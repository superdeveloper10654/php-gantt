{"version":3,"sources":["webpack:///dhtmlxgantt_keyboard_navigation.js","webpack:///webpack/bootstrap 39c67343b4e330efcd62","webpack:///./sources/utils/dom_helpers.js","webpack:///./sources/ext/keyboard_navigation.js","webpack:///./sources/ext/keyboard_navigation/common/keyboard_shortcuts.js","webpack:///./sources/ext/keyboard_navigation/common/eventhandler.js","webpack:///./sources/ext/keyboard_navigation/common/trap_modal_focus.js","webpack:///./sources/ext/keyboard_navigation/elements/gantt_node.js","webpack:///./sources/ext/keyboard_navigation/elements/nav_node.js","webpack:///./sources/ext/keyboard_navigation/elements/header_cell.js","webpack:///./sources/ext/keyboard_navigation/elements/task_row.js","webpack:///./sources/ext/keyboard_navigation/elements/task_cell.js","webpack:///./sources/ext/keyboard_navigation/modals.js","webpack:///./sources/ext/keyboard_navigation/core.js"],"names":["Gantt","plugin","gantt","modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","elementPosition","elem","top","left","right","bottom","getBoundingClientRect","box","body","document","docElem","documentElement","parentNode","scrollTop","window","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","offsetWidth","offsetHeight","parseInt","offsetTop","offsetLeft","offsetParent","y","Math","round","x","width","height","isVisible","node","display","visibility","getComputedStyle","style","currentStyle","hasNonNegativeTabIndex","isNaN","getAttribute","hasHref","a","area","nodeName","loLowerCase","isEnabled","input","select","textarea","button","toLowerCase","hasAttribute","getFocusableNodes","root","nodes","querySelectorAll","join","nodesArray","Array","slice","length","splice","getScrollSize","div","createElement","cssText","appendChild","clientWidth","removeChild","getClassName","className","baseVal","indexOf","_trimString","addClassName","removeClassName","split","regEx","RegExp","replace","toNode","getElementById","querySelector","insert","newone","_slave","innerHTML","child","firstChild","remove","getChildren","css","ch","childNodes","len","out","obj","push","getTargetNode","e","trg","tagName","event","target","srcElement","locateAttribute","attribute","str","String","trim","this","apply","locateClassName","classname","strict","undefined","ind","charAt","getRelativeEventPosition","ev","pageX","pageY","pos","clientX","clientY","isChildOf","parent","getNodePosition","insertNode","removeNode","getChildNodes","setupKeyNav","getScope","mode","scopes","$keyboardNavigation","GanttNode","headerCell","HeaderCell","taskRow","TaskRow","taskCell","config","keyboard_navigation","keyboard_navigation_cells","addShortcut","shortcut","handler","scope","scopeObject","bind","getShortcutHandler","commands","shortcuts","parse","findHandler","removeShortcut","unbind","focus","disp","dispatcher","enable","getActiveNode","focusNode","setDefaultNode","_compose","parts","arguments","res","mousedownHandler","_locateHTML","task_attribute","delay","setActiveNode","activeNode","keyDownHandler","focusHandler","focusGlobalNode","attachEvent","eventRemove","$container","setAttribute","removeAttribute","onReady","detachEvent","skipNext","$data","tasksStore","id","currentNode","taskId","_smart_render","updateRender","_redrawItems","renderers","items","focusedItemVisible","start_date","getTask","item","oldId","newId","TaskCell","interval","setInterval","focusElement","activeElement","_locate_css","disable","clearInterval","createCommand","modifiers","shift","alt","ctrl","meta","keyCode","expr","getExpressions","words","getWords","command","j","commandKeys","specialKeys","charCodeAt","getCommandFromEvent","domEvent","shiftKey","altKey","ctrlKey","metaKey","which","printableKey","fromCharCode","getHashFromEvent","getHash","junctionChar","term","combinationChar","backspace","tab","enter","esc","space","up","down","home","end","pageup","pagedown","delete","plus","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","EventHandler","_handlers","hash","doAction","preventDefault","returnValue","bindAll","map","initKeys","keys","domHelpers","trapFocus","focusable","currentFocus","currentIndex","lastItem","firstItem","blur","scrollHorizontal","dir","date","dateFromPos","getScrollState","step","add","scale_unit","scrollTo","posFromDate","scrollVertical","row_height","alt+left","alt+right","alt+up","alt+down","ctrl+z","undo","ctrl+r","redo","KeyNavNode","isValid","fallback","moveTo","element","compareTo","b","canStringifyThis","toString","canStringifyThat","getNode","index","show_grid","getVisibleTaskCount","getGridColumns","visibleColumns","$grid_scale","columns","rootLevel","root_id","enter, space","click","ctrl+enter","createTask","isTaskExists","getTaskIndex","header","nextIndex","getTaskByIndex","isTaskVisible","$grid","getTaskNode","getTaskPosition","scroll","inner_height","show_chart","inner_width","task_scroll_offset","nextElement","prevTask","getPrev","nextTask","getNext","getState","selected_task","selectTask","unselectTask","ctrl+left","close","ctrl+right","open","$click","buttons","showLightbox","columnIndex","isModal","modalsStack","afterPopup","setTimeout","startModal","endModal","pop","isTopModal","currentTarget","traceLightbox","getLightbox","saveFocus","restoreFocus","isActive","globalNode","getDefaultNode","blurNode","el","ganttNode","_timeout","callback","clearTimeout"],"mappings":"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","file":"dhtmlxgantt_keyboard_navigation.js","sourcesContent":["/*!\n * @license\r\n * \r\n * dhtmlxGantt v.5.1.0 Professional\r\n * This software is covered by DHTMLX Enterprise License. Usage without proper license is prohibited.\r\n * \r\n * (c) Dinamenta, UAB.\r\n * \n */\nGantt.plugin(function(gantt){\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 13);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */,\n/* 1 */\n/***/ (function(module, exports) {\n\n//returns position of html element on the page\r\nfunction elementPosition(elem) {\r\n\tvar top=0, left=0, right=0, bottom=0;\r\n\tif (elem.getBoundingClientRect) { //HTML5 method\r\n\t\tvar box = elem.getBoundingClientRect();\r\n\t\tvar body = document.body;\r\n\t\tvar docElem = (document.documentElement ||\r\n\t\t\tdocument.body.parentNode ||\r\n\t\t\tdocument.body);\r\n\r\n\t\tvar scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop;\r\n\t\tvar scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft;\r\n\t\tvar clientTop = docElem.clientTop || body.clientTop || 0;\r\n\t\tvar clientLeft = docElem.clientLeft || body.clientLeft || 0;\r\n\t\ttop  = box.top +  scrollTop - clientTop;\r\n\t\tleft = box.left + scrollLeft - clientLeft;\r\n\r\n\t\tright = document.body.offsetWidth - box.right;\r\n\t\tbottom = document.body.offsetHeight - box.bottom;\r\n\t} else { //fallback to naive approach\r\n\t\twhile(elem) {\r\n\t\t\ttop = top + parseInt(elem.offsetTop,10);\r\n\t\t\tleft = left + parseInt(elem.offsetLeft,10);\r\n\t\t\telem = elem.offsetParent;\r\n\t\t}\r\n\r\n\t\tright = document.body.offsetWidth - elem.offsetWidth - left;\r\n\t\tbottom = document.body.offsetHeight - elem.offsetHeight - top;\r\n\t}\r\n\treturn { y: Math.round(top), x: Math.round(left), width:elem.offsetWidth, height:elem.offsetHeight, right: Math.round(right), bottom: Math.round(bottom) };\r\n}\r\n\r\nfunction isVisible(node){\r\n\tvar display = false,\r\n\t\tvisibility = false;\r\n\tif(window.getComputedStyle){\r\n\t\tvar style = window.getComputedStyle(node, null);\r\n\t\tdisplay = style[\"display\"];\r\n\t\tvisibility = style[\"visibility\"];\r\n\t}else if(node.currentStyle){\r\n\t\tdisplay = node.currentStyle[\"display\"];\r\n\t\tvisibility = node.currentStyle[\"visibility\"];\r\n\t}\r\n\treturn (display != \"none\" && visibility != \"hidden\");\r\n}\r\n\r\nfunction hasNonNegativeTabIndex(node){\r\n\treturn !isNaN(node.getAttribute(\"tabindex\")) && (node.getAttribute(\"tabindex\")*1 >= 0);\r\n}\r\n\r\nfunction hasHref(node){\r\n\tvar canHaveHref = {\"a\": true, \"area\": true};\r\n\tif(canHaveHref[node.nodeName.loLowerCase()]){\r\n\t\treturn !!node.getAttribute(\"href\");\r\n\t}\r\n\treturn true;\r\n}\r\n\r\nfunction isEnabled(node){\r\n\tvar canDisable = {\"input\":true, \"select\":true, \"textarea\":true, \"button\":true, \"object\":true};\r\n\tif(canDisable[node.nodeName.toLowerCase()]){\r\n\t\treturn !node.hasAttribute(\"disabled\");\r\n\t}\r\n\r\n\treturn true;\r\n}\r\n\r\nfunction getFocusableNodes(root){\r\n\tvar nodes = root.querySelectorAll([\r\n\t\t\"a[href]\",\r\n\t\t\"area[href]\",\r\n\t\t\"input\",\r\n\t\t\"select\",\r\n\t\t\"textarea\",\r\n\t\t\"button\",\r\n\t\t\"iframe\",\r\n\t\t\"object\",\r\n\t\t\"embed\",\r\n\t\t\"[tabindex]\",\r\n\t\t\"[contenteditable]\"\r\n\t].join(\", \"));\r\n\r\n\tvar nodesArray = Array.prototype.slice.call(nodes, 0);\r\n\tfor(var i = 0; i < nodesArray.length; i++){\r\n\t\tvar node = nodesArray[i];\r\n\t\tvar isValid = (hasNonNegativeTabIndex(node)  || isEnabled(node) || hasHref(node)) && isVisible(node);\r\n\t\tif(!isValid){\r\n\t\t\tnodesArray.splice(i, 1);\r\n\t\t\ti--;\r\n\t\t}\r\n\t}\r\n\treturn nodesArray;\r\n}\r\n\r\nfunction getScrollSize(){\r\n\tvar div = document.createElement(\"div\");\r\n\tdiv.style.cssText=\"visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;\";\r\n\r\n\tdocument.body.appendChild(div);\r\n\tvar width = div.offsetWidth-div.clientWidth;\r\n\tdocument.body.removeChild(div);\r\n\r\n\treturn width;\r\n}\r\n\r\nfunction getClassName(node){\r\n\tif(!node) return \"\";\r\n\r\n\tvar className = node.className || \"\";\r\n\tif(className.baseVal)//'className' exist but not a string - IE svg element in DOM\r\n\t\tclassName = className.baseVal;\r\n\r\n\tif(!className.indexOf)\r\n\t\tclassName = '';\r\n\r\n\treturn _trimString(className);\r\n}\r\n\r\nfunction addClassName(node, className){\r\n\tif (className && node.className.indexOf(className) === -1) {\r\n\t\tnode.className += \" \" + className;\r\n\t}\r\n}\r\n\r\nfunction removeClassName(node, name) {\r\n\tname = name.split(\" \");\r\n\tfor (var i = 0; i < name.length; i++) {\r\n\t\tvar regEx = new RegExp('\\\\s?\\\\b' + name[i] + '\\\\b(?![-_\\.])', \"\");\r\n\t\tnode.className = node.className.replace(regEx, \"\");\r\n\t}\r\n}\r\n\r\nfunction toNode(node) {\r\n\tif (typeof node === \"string\") {\r\n\t\treturn (document.getElementById(node) || document.querySelector(node) || document.body);\r\n\t}\r\n\treturn node || document.body;\r\n}\r\n\r\nvar _slave = document.createElement(\"div\");\r\nfunction insert(node, newone) {\r\n\t_slave.innerHTML = newone;\r\n\tvar child = _slave.firstChild;\r\n\tnode.appendChild(child);\r\n\treturn child;\r\n}\r\n\r\nfunction remove(node) {\r\n\tif (node && node.parentNode) {\r\n\t\tnode.parentNode.removeChild(node);\r\n\t}\r\n}\r\n\r\nfunction getChildren(node, css) {\r\n\tvar ch = node.childNodes;\r\n\tvar len = ch.length;\r\n\tvar out = [];\r\n\tfor (var i = 0; i < len; i++) {\r\n\t\tvar obj = ch[i];\r\n\t\tif (obj.className && obj.className.indexOf(css) !== -1) {\r\n\t\t\tout.push(obj);\r\n\t\t}\r\n\t}\r\n\treturn out;\r\n}\r\n\r\nfunction getTargetNode(e){\r\n\tvar trg;\r\n\tif (e.tagName)\r\n\t\ttrg = e;\r\n\telse {\r\n\t\te=e||window.event;\r\n\t\ttrg=e.target||e.srcElement;\r\n\t}\r\n\treturn trg;\r\n}\r\n\r\nfunction locateAttribute(e, attribute) {\r\n\tif(!attribute) return;\r\n\r\n\tvar trg = getTargetNode(e);\r\n\r\n\twhile (trg){\r\n\t\tif (trg.getAttribute){\t//text nodes has not getAttribute\r\n\t\t\tvar test = trg.getAttribute(attribute);\r\n\t\t\tif (test) return trg;\r\n\t\t}\r\n\t\ttrg=trg.parentNode;\r\n\t}\r\n\treturn null;\r\n}\r\n\r\nfunction _trimString(str){\r\n\tvar func = String.prototype.trim || function(){ return this.replace(/^\\s+|\\s+$/g, \"\"); };\r\n\treturn func.apply(str);\r\n}\r\n\r\nfunction locateClassName(e, classname, strict){\r\n\tif(strict === undefined)\r\n\t\tstrict = true;\r\n\r\n\tvar trg = getTargetNode(e);\r\n\tvar css = '';\r\n\tvar test = false;\r\n\twhile (trg){\r\n\t\tcss = getClassName(trg);\r\n\r\n\t\tif(css){\r\n\t\t\tvar ind = css.indexOf(classname);\r\n\t\t\tif (ind >= 0){\r\n\t\t\t\tif (!strict)\r\n\t\t\t\t\treturn trg;\r\n\r\n\t\t\t\t//check that we have exact match\r\n\t\t\t\tvar left = (ind === 0) || (!_trimString(css.charAt(ind - 1)));\r\n\t\t\t\tvar right = ((ind + classname.length >= css.length)) || (!_trimString(css.charAt(ind + classname.length)));\r\n\r\n\t\t\t\tif (left && right)\r\n\t\t\t\t\treturn trg;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ttrg=trg.parentNode;\r\n\t}\r\n\treturn null;\r\n}\r\n\r\n/*\r\nevent position relatively to DOM element\r\n */\r\nfunction getRelativeEventPosition(ev, node){\r\n\tif (ev.pageX || ev.pageY)\r\n\t\tvar pos = {x: ev.pageX, y: ev.pageY};\r\n\r\n\tvar d = document.documentElement;\r\n\tvar pos = {\r\n\t\tx: ev.clientX + d.scrollLeft - d.clientLeft,\r\n\t\ty: ev.clientY + d.scrollTop - d.clientTop\r\n\t};\r\n\r\n\tvar box = elementPosition(node);\r\n\tpos.x = pos.x - box.x + node.scrollLeft;\r\n\tpos.y = pos.y - box.y + node.scrollTop;\r\n\treturn pos;\r\n}\r\n\r\n\r\nfunction isChildOf(child, parent){\r\n\twhile(child && child != parent) {\r\n\t\tchild = child.parentNode;\r\n\t}\r\n\treturn child == parent;\r\n}\r\n\r\nmodule.exports = {\r\n\tgetNodePosition: elementPosition,\r\n\tgetFocusableNodes: getFocusableNodes,\r\n\tgetScrollSize: getScrollSize,\r\n\tgetClassName: getClassName,\r\n\taddClassName: addClassName,\r\n\tremoveClassName: removeClassName,\r\n\tinsertNode: insert,\r\n\tremoveNode: remove,\r\n\tgetChildNodes: getChildren,\r\n\ttoNode: toNode,\r\n\tlocateClassName:locateClassName,\r\n\tlocateAttribute: locateAttribute,\r\n\tgetTargetNode: getTargetNode,\r\n\tgetRelativeEventPosition: getRelativeEventPosition,\r\n\tisChildOf: isChildOf,\r\n};\n\n/***/ }),\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(14);\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n(function(){\r\n\tfunction setupKeyNav(gantt){\r\n\t\tgantt.config.keyboard_navigation = true;\r\n\t\tgantt.config.keyboard_navigation_cells = false;\r\n\r\n\t\tgantt.addShortcut = function(shortcut, handler, scope){\r\n\t\t\tvar scopeObject = getScope(scope);\r\n\t\t\tif(scopeObject){\r\n\t\t\t\tscopeObject.prototype.bind(shortcut, handler);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tgantt.getShortcutHandler = function(shortcut, scope){\r\n\t\t\tvar scopeObject = getScope(scope);\r\n\t\t\tif(scopeObject){\r\n\t\t\t\tvar commands = gantt.$keyboardNavigation.shortcuts.parse(shortcut);\r\n\t\t\t\tif(commands.length){\r\n\t\t\t\t\treturn scopeObject.prototype.findHandler(commands[0]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tgantt.removeShortcut = function(shortcut, scope){\r\n\t\t\tvar scopeObject = getScope(scope);\r\n\t\t\tif(scopeObject){\r\n\t\t\t\tscopeObject.prototype.unbind(shortcut);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tgantt.focus = function(){\r\n\r\n\t\t\tvar disp = gantt.$keyboardNavigation.dispatcher;\r\n\t\t\tdisp.enable();\r\n\t\t\tif(!disp.getActiveNode()){\r\n\t\t\t\tdisp.setDefaultNode();\r\n\t\t\t}else{\r\n\t\t\t\tdisp.focusNode(disp.getActiveNode());\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\r\n\r\n\t\tfunction getScope(mode){\r\n\t\t\tvar scopes = {\r\n\t\t\t\t\"gantt\":gantt.$keyboardNavigation.GanttNode,\r\n\t\t\t\t\"headerCell\": gantt.$keyboardNavigation.HeaderCell,\r\n\t\t\t\t\"taskRow\": gantt.$keyboardNavigation.TaskRow,\r\n\t\t\t\t\"taskCell\": gantt.$keyboardNavigation.HeaderCell\r\n\t\t\t};\r\n\r\n\t\t\treturn scopes[mode] || scopes.gantt;\r\n\t\t}\r\n\r\n\t\tgantt.$keyboardNavigation = {};\r\n\r\n\t\tgantt._compose = function(){\r\n\t\t\tvar parts = Array.prototype.slice.call(arguments, 0);\r\n\t\t\tvar res = {};\r\n\t\t\tfor(var i = 0; i < parts.length; i++){\r\n\t\t\t\tvar obj = parts[i];\r\n\t\t\t\tif(typeof obj == \"function\"){\r\n\t\t\t\t\tobj = new obj();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor(var p in obj){\r\n\t\t\t\t\tres[p] = obj[p];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn res;\r\n\t\t};\r\n\r\n\t\t__webpack_require__ (15)(gantt);\r\n\t\t__webpack_require__ (16)(gantt);\r\n\t\t__webpack_require__ (17)(gantt);\r\n\t\t__webpack_require__ (18)(gantt);\r\n\t\t__webpack_require__ (19)(gantt);\r\n\t\t__webpack_require__ (20)(gantt);\r\n\t\t__webpack_require__ (21)(gantt);\r\n\t\t__webpack_require__ (22)(gantt);\r\n\t\t__webpack_require__ (23)(gantt);\r\n\t\t__webpack_require__ (24)(gantt);\r\n\r\n\t\t(function(){\r\n\t\t\tvar dispatcher = gantt.$keyboardNavigation.dispatcher;\r\n\r\n\t\t\tvar keyDownHandler = function(e){\r\n\t\t\t\tif(!gantt.config.keyboard_navigation) return;\r\n\r\n\t\t\t\treturn dispatcher.keyDownHandler(e);\r\n\t\t\t};\r\n\r\n\t\t\tvar focusHandler = function(){\r\n\t\t\t\tdispatcher.focusGlobalNode();\r\n\t\t\t};\r\n\r\n\t\t\tgantt.attachEvent(\"onDataRender\", function(){\r\n\t\t\t\tif(!gantt.config.keyboard_navigation) return;\r\n\t\t\t\tif(dispatcher.isEnabled()){\r\n\t\t\t\t\tvar activeNode = dispatcher.getActiveNode();\r\n\t\t\t\t\tif(activeNode){\r\n\t\t\t\t\t\tactiveNode.focus();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tgantt.attachEvent(\"onGanttRender\", function(){\r\n\t\t\t\tgantt.eventRemove(document, \"keydown\", keyDownHandler);\r\n\t\t\t\tgantt.eventRemove(gantt.$container, \"focus\", focusHandler);\r\n\t\t\t\tgantt.eventRemove(gantt.$container, \"mousedown\", mousedownHandler);\r\n\r\n\t\t\t\tif(gantt.config.keyboard_navigation){\r\n\r\n\t\t\t\t\tgantt.event(document, \"keydown\", keyDownHandler);\r\n\t\t\t\t\tgantt.event(gantt.$container, \"focus\", focusHandler);\r\n\t\t\t\t\tgantt.event(gantt.$container, \"mousedown\", mousedownHandler);\r\n\t\t\t\t\tgantt.$container.setAttribute(\"tabindex\", \"0\");\r\n\r\n\t\t\t\t}else{\r\n\t\t\t\t\tgantt.$container.removeAttribute(\"tabindex\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tfunction mousedownHandler(e){\r\n\t\t\t\tif(!gantt.config.keyboard_navigation) return true;\r\n\r\n\t\t\t\tvar focusNode;\r\n\t\t\t\tif(gantt._locateHTML(e, gantt.config.task_attribute)){\r\n\t\t\t\t\tfocusNode = new gantt.$keyboardNavigation.TaskRow(\r\n\t\t\t\t\t\tgantt._locateHTML(e, gantt.config.task_attribute)\r\n\t\t\t\t\t\t\t.getAttribute(gantt.config.task_attribute));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(focusNode) {\r\n\t\t\t\t\tif (!dispatcher.isEnabled()) {\r\n\t\t\t\t\t\tdispatcher.activeNode = focusNode;\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdispatcher.delay(function () {\r\n\t\t\t\t\t\t\tdispatcher.setActiveNode(focusNode);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t\tvar onReady = gantt.attachEvent(\"onGanttReady\", function(){\r\n\t\t\t\t// restore focus on repainted tasks\r\n\t\t\t\tgantt.detachEvent(onReady);\r\n\r\n\t\t\t\tvar skipNext = false;\r\n\t\t\t\tgantt.$data.tasksStore.attachEvent(\"onStoreUpdated\", function(id){\r\n\t\t\t\t\tif(skipNext){\r\n\t\t\t\t\t\tskipNext = false;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(gantt.config.keyboard_navigation && dispatcher.isEnabled()){\r\n\t\t\t\t\t\tvar currentNode = dispatcher.getActiveNode();\r\n\t\t\t\t\t\tif(currentNode && currentNode.taskId == id){\r\n\t\t\t\t\t\t\tskipNext = true;\r\n\t\t\t\t\t\t\tdispatcher.focusNode(currentNode);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif(gantt._smart_render){\r\n\t\t\t\t\tvar updateRender = gantt._smart_render._redrawItems;\r\n\t\t\t\t\tgantt._smart_render._redrawItems = function(renderers, items){\r\n\t\t\t\t\t\tif(gantt.config.keyboard_navigation && dispatcher.isEnabled()){\r\n\t\t\t\t\t\t\tvar currentNode = dispatcher.getActiveNode();\r\n\t\t\t\t\t\t\tif(currentNode && currentNode.taskId !== undefined){\r\n\t\t\t\t\t\t\t\tvar focusedItemVisible = false;\r\n\t\t\t\t\t\t\t\tfor(var i = 0; i < items.length; i++){\r\n\t\t\t\t\t\t\t\t\tif(items[i].id == currentNode.taskId && items[i].start_date){\r\n\t\t\t\t\t\t\t\t\t\tfocusedItemVisible = true;\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(!focusedItemVisible){\r\n\t\t\t\t\t\t\t\t\titems.push(gantt.getTask(currentNode.taskId));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar res = updateRender.apply(this, arguments);\r\n\r\n\t\t\t\t\t\treturn res;\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\r\n\r\n\t\t\tgantt.attachEvent(\"onAfterTaskAdd\", function(id,item){\r\n\t\t\t\tif(!gantt.config.keyboard_navigation) return true;\r\n\t\t\t\tif(dispatcher.isEnabled()){\r\n\t\t\t\t\tdispatcher.setActiveNode(new gantt.$keyboardNavigation.TaskRow(id));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tgantt.attachEvent(\"onTaskIdChange\", function(oldId, newId){\r\n\t\t\t\tif(!gantt.config.keyboard_navigation) return true;\r\n\r\n\t\t\t\tvar node = dispatcher.activeNode;\r\n\t\t\t\tif(node instanceof gantt.$keyboardNavigation.TaskRow || node instanceof gantt.$keyboardNavigation.TaskCell){\r\n\t\t\t\t\tif(node.taskId == oldId){\r\n\t\t\t\t\t\tnode.taskId = newId;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn true;\r\n\t\t\t});\r\n\r\n\t\t\tgantt.attachEvent(\"onTaskClick\", function(id){\r\n\t\t\t\tif(!gantt.config.keyboard_navigation) return true;\r\n\t\t\t\tdispatcher.enable();\r\n\t\t\t\tdispatcher.setActiveNode(new gantt.$keyboardNavigation.TaskRow(id));\r\n\t\t\t\treturn true;\r\n\t\t\t});\r\n\r\n\t\t\tgantt.attachEvent(\"onEmptyClick\", function(){\r\n\t\t\t\tif(!gantt.config.keyboard_navigation) return true;\r\n\t\t\t\tdispatcher.enable();\r\n\t\t\t});\r\n\r\n\t\t\tvar interval = setInterval(function(){\r\n\t\t\t\tif(!gantt.config.keyboard_navigation) return;\r\n\r\n\t\t\t\tvar enable;\r\n\t\t\t\tvar focusElement = document.activeElement;\r\n\r\n\t\t\t\tvar parent = gantt.$container;\r\n\t\t\t\t// halt key nav when focus is outside gantt or in quick info popup\r\n\t\t\t\tif(!focusElement || gantt._locate_css(focusElement, \"gantt_cal_quick_info\")){\r\n\t\t\t\t\tenable = false;\r\n\t\t\t\t}else{\r\n\t\t\t\t\twhile(focusElement != parent &&  focusElement){\r\n\t\t\t\t\t\tfocusElement = focusElement.parentNode;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(focusElement == parent){\r\n\t\t\t\t\t\tenable = true;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tenable = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(enable && !dispatcher.isEnabled()){\r\n\t\t\t\t\tdispatcher.enable();\r\n\t\t\t\t}else if(!enable && dispatcher.isEnabled()){\r\n\t\t\t\t\tdispatcher.disable();\r\n\t\t\t\t}\r\n\r\n\t\t\t}, 500);\r\n\r\n\t\t\tgantt.attachEvent(\"onDestroy\", function(){\r\n\t\t\t\tclearInterval(interval);\r\n\t\t\t});\r\n\r\n\t\t})();\r\n\r\n\t}\r\n\r\n\r\n\tif(window.Gantt){\r\n\t\twindow.Gantt.plugin(setupKeyNav);\r\n\t}else{\r\n\t\tsetupKeyNav(window.gantt);\r\n\t}\r\n})();\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(gantt) {\r\n\r\n\tgantt.$keyboardNavigation.shortcuts = {\r\n\t\tcreateCommand: function () {\r\n\t\t\treturn {\r\n\t\t\t\tmodifiers: {\r\n\t\t\t\t\t\"shift\": false,\r\n\t\t\t\t\t\"alt\": false,\r\n\t\t\t\t\t\"ctrl\": false,\r\n\t\t\t\t\t\"meta\": false\r\n\t\t\t\t},\r\n\t\t\t\tkeyCode: null\r\n\t\t\t};\r\n\t\t},\r\n\t\tparse: function (shortcut) {\r\n\t\t\tvar commands = [];\r\n\r\n\t\t\tvar expr = this.getExpressions(this.trim(shortcut));\r\n\t\t\tfor (var i = 0; i < expr.length; i++) {\r\n\t\t\t\tvar words = this.getWords(expr[i]);\r\n\r\n\t\t\t\tvar command = this.createCommand();\r\n\r\n\t\t\t\tfor (var j = 0; j < words.length; j++) {\r\n\t\t\t\t\tif (this.commandKeys[words[j]]) {\r\n\t\t\t\t\t\tcommand.modifiers[words[j]] = true;\r\n\t\t\t\t\t} else if (this.specialKeys[words[j]]) {\r\n\t\t\t\t\t\tcommand.keyCode = this.specialKeys[words[j]];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcommand.keyCode = words[j].charCodeAt(0);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcommands.push(command);\r\n\t\t\t}\r\n\t\t\treturn commands;\r\n\t\t},\r\n\r\n\t\tgetCommandFromEvent: function (domEvent) {\r\n\t\t\tvar command = this.createCommand();\r\n\t\t\tcommand.modifiers.shift = !!domEvent.shiftKey;\r\n\t\t\tcommand.modifiers.alt = !!domEvent.altKey;\r\n\t\t\tcommand.modifiers.ctrl = !!domEvent.ctrlKey;\r\n\t\t\tcommand.modifiers.meta = !!domEvent.metaKey;\r\n\t\t\tcommand.keyCode = domEvent.which || domEvent.keyCode;\r\n\r\n\t\t\tif(command.keyCode >= 96 && command.keyCode <= 105){\r\n\t\t\t\t// numpad keys 96-105 -> 48-57\r\n\t\t\t\tcommand.keyCode -= 48;//convert numpad  number code to regular number code\r\n\t\t\t}\r\n\r\n\t\t\tvar printableKey = String.fromCharCode(command.keyCode);\r\n\t\t\tif (printableKey) {\r\n\t\t\t\tcommand.keyCode = printableKey.toLowerCase().charCodeAt(0);\r\n\t\t\t}\r\n\t\t\treturn command;\r\n\t\t},\r\n\r\n\t\tgetHashFromEvent: function (domEvent) {\r\n\t\t\treturn this.getHash(this.getCommandFromEvent(domEvent));\r\n\t\t},\r\n\r\n\t\tgetHash: function (command) {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor (var i in command.modifiers) {\r\n\t\t\t\tif (command.modifiers[i]) {\r\n\t\t\t\t\tparts.push(i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tparts.push(command.keyCode);\r\n\r\n\t\t\treturn parts.join(this.junctionChar);\r\n\t\t},\r\n\r\n\t\tgetExpressions: function (shortcut) {\r\n\t\t\treturn shortcut.split(this.junctionChar);\r\n\t\t},\r\n\t\tgetWords: function (term) {\r\n\t\t\treturn term.split(this.combinationChar);\r\n\t\t},\r\n\t\ttrim: function (shortcut) {\r\n\t\t\treturn shortcut.replace(/\\s/g, \"\");\r\n\t\t},\r\n\t\tjunctionChar: \",\",\r\n\t\tcombinationChar: \"+\",\r\n\t\tcommandKeys: {\r\n\t\t\t\"shift\": 16,\r\n\t\t\t\"alt\": 18,\r\n\t\t\t\"ctrl\": 17,\r\n\t\t\t\"meta\": true\r\n\t\t},\r\n\t\tspecialKeys: {\r\n\t\t\t\"backspace\": 8,\r\n\t\t\t\"tab\": 9,\r\n\t\t\t\"enter\": 13,\r\n\t\t\t\"esc\": 27,\r\n\t\t\t\"space\": 32,\r\n\t\t\t\"up\": 38,\r\n\t\t\t\"down\": 40,\r\n\t\t\t\"left\": 37,\r\n\t\t\t\"right\": 39,\r\n\t\t\t\"home\": 36,\r\n\t\t\t\"end\": 35,\r\n\t\t\t\"pageup\": 33,\r\n\t\t\t\"pagedown\": 34,\r\n\t\t\t\"delete\": 46,\r\n\t\t\t\"insert\": 45,\r\n\t\t\t\"plus\": 107,\r\n\t\t\t\"f1\": 112,\r\n\t\t\t\"f2\": 113,\r\n\t\t\t\"f3\": 114,\r\n\t\t\t\"f4\": 115,\r\n\t\t\t\"f5\": 116,\r\n\t\t\t\"f6\": 117,\r\n\t\t\t\"f7\": 118,\r\n\t\t\t\"f8\": 119,\r\n\t\t\t\"f9\": 120,\r\n\t\t\t\"f10\": 121,\r\n\t\t\t\"f11\": 122,\r\n\t\t\t\"f12\": 123\r\n\t\t}\r\n\t};\r\n};\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(gantt) {\r\n\r\n\tgantt.$keyboardNavigation.EventHandler = {\r\n\t\t_handlers: null,\r\n\t\tfindHandler: function (command) {\r\n\t\t\tif (!this._handlers) this._handlers = {};\r\n\t\t\tvar shortcuts = gantt.$keyboardNavigation.shortcuts;\r\n\t\t\tvar hash = shortcuts.getHash(command);\r\n\r\n\t\t\treturn this._handlers[hash];\r\n\t\t},\r\n\r\n\t\tdoAction: function (command, e) {\r\n\t\t\tvar handler = this.findHandler(command);\r\n\t\t\tif (handler) {\r\n\t\t\t\thandler.call(this, e);\r\n\r\n\t\t\t\tif (e.preventDefault) e.preventDefault();\r\n\t\t\t\telse e.returnValue = false;\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tbind: function (shortcut, handler) {\r\n\t\t\tif (!this._handlers) this._handlers = {};\r\n\r\n\t\t\tvar shortcuts = gantt.$keyboardNavigation.shortcuts;\r\n\r\n\t\t\tvar commands = shortcuts.parse(shortcut);\r\n\t\t\tfor (var i = 0; i < commands.length; i++) {\r\n\t\t\t\tthis._handlers[shortcuts.getHash(commands[i])] = handler;\r\n\t\t\t}\r\n\t\t},\r\n\t\tunbind: function (shortcut) {\r\n\t\t\tvar shortcuts = gantt.$keyboardNavigation.shortcuts;\r\n\r\n\t\t\tvar commands = shortcuts.parse(shortcut);\r\n\t\t\tfor (var i = 0; i < commands.length; i++) {\r\n\t\t\t\tif (this._handlers[shortcuts.getHash(commands[i])]) {\r\n\t\t\t\t\tdelete this._handlers[shortcuts.getHash(commands[i])];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tbindAll: function (map) {\r\n\t\t\tfor (var i in map) {\r\n\t\t\t\tthis.bind(i, map[i]);\r\n\t\t\t}\r\n\t\t},\r\n\t\tinitKeys: function () {\r\n\t\t\tif (!this._handlers)\r\n\t\t\t\tthis._handlers = {};\r\n\t\t\tif (this.keys) {\r\n\t\t\t\tthis.bindAll(this.keys);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n};\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = function(gantt) {\r\n\r\n\t(function () {\r\n\t\tvar domHelpers = __webpack_require__(1);\r\n\t\tgantt.$keyboardNavigation.getFocusableNodes = domHelpers.getFocusableNodes;\r\n\r\n\t\tgantt.$keyboardNavigation.trapFocus = function trapFocus(root, e) {\r\n\t\t\tif (e.keyCode != 9) return false;\r\n\r\n\t\t\tvar focusable = gantt.$keyboardNavigation.getFocusableNodes(root);\r\n\t\t\tvar currentFocus = document.activeElement;\r\n\t\t\tvar currentIndex = -1;\r\n\t\t\tfor (var i = 0; i < focusable.length; i++) {\r\n\t\t\t\tif (focusable[i] == currentFocus) {\r\n\t\t\t\t\tcurrentIndex = i;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (e.shiftKey) {\r\n\t\t\t\t// back tab\r\n\t\t\t\tif (currentIndex <= 0) {\r\n\t\t\t\t\t// go to the last element if we focused on the first\r\n\t\t\t\t\tvar lastItem = focusable[focusable.length - 1];\r\n\t\t\t\t\tif (lastItem) {\r\n\t\t\t\t\t\tlastItem.focus();\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\t// forward tab\r\n\t\t\t\tif (currentIndex >= focusable.length - 1) {\r\n\t\t\t\t\t// forward tab from last element should go back to the first element\r\n\t\t\t\t\tvar firstItem = focusable[0];\r\n\t\t\t\t\tif (firstItem) {\r\n\t\t\t\t\t\tfirstItem.focus();\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t};\r\n\t})();\r\n\r\n};\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(gantt) {\r\n\r\n\tgantt.$keyboardNavigation.GanttNode = function () {\r\n\t};\r\n\r\n\tgantt.$keyboardNavigation.GanttNode.prototype = gantt._compose(\r\n\t\tgantt.$keyboardNavigation.EventHandler,\r\n\t\t{\r\n\r\n\t\t\tfocus: function () {\r\n\t\t\t\tgantt.focus();\r\n\t\t\t},\r\n\r\n\t\t\tblur: function () {\r\n\r\n\t\t\t},\r\n\r\n\t\t\tdisable: function () {\r\n\t\t\t\tgantt.$container.setAttribute(\"tabindex\", \"0\");\r\n\t\t\t},\r\n\t\t\tenable: function () {\r\n\t\t\t\tif (gantt.$container)\r\n\t\t\t\t\tgantt.$container.removeAttribute(\"tabindex\");\r\n\t\t\t},\r\n\t\t\tisEnabled: function () {\r\n\t\t\t\treturn gantt.$container.hasAttribute(\"tabindex\");\r\n\t\t\t},\r\n\r\n\t\t\tscrollHorizontal: function scrollHorizontal(dir) {\r\n\t\t\t\tvar date = gantt.dateFromPos(gantt.getScrollState().x);\r\n\t\t\t\tvar step = dir < 0 ? -gantt.config.step : gantt.config.step;\r\n\t\t\t\tdate = gantt.date.add(date, step, gantt.config.scale_unit);\r\n\t\t\t\tgantt.scrollTo(gantt.posFromDate(date));\r\n\t\t\t},\r\n\r\n\t\t\tscrollVertical: function scrollVertical(dir) {\r\n\t\t\t\tvar top = gantt.getScrollState().y;\r\n\t\t\t\tvar step = gantt.config.row_height;\r\n\t\t\t\tgantt.scrollTo(null, top + (dir < 0 ? -1 : 1) * step);\r\n\t\t\t},\r\n\r\n\t\t\tkeys: {\r\n\t\t\t\t\"alt+left\": function (e) {\r\n\t\t\t\t\tthis.scrollHorizontal(-1);\r\n\t\t\t\t},\r\n\t\t\t\t\"alt+right\": function (e) {\r\n\t\t\t\t\tthis.scrollHorizontal(1);\r\n\t\t\t\t},\r\n\t\t\t\t\"alt+up\": function (e) {\r\n\t\t\t\t\tthis.scrollVertical(-1);\r\n\t\t\t\t},\r\n\t\t\t\t\"alt+down\": function (e) {\r\n\t\t\t\t\tthis.scrollVertical(1);\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// undo\r\n\t\t\t\t\"ctrl+z\": function () {\r\n\t\t\t\t\tif (gantt.undo) gantt.undo();\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// redo\r\n\t\t\t\t\"ctrl+r\": function () {\r\n\t\t\t\t\tif (gantt.redo) gantt.redo();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\r\n\tgantt.$keyboardNavigation.GanttNode.prototype.bindAll(gantt.$keyboardNavigation.GanttNode.prototype.keys);\r\n\r\n};\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(gantt) {\r\n\r\n\tgantt.$keyboardNavigation.KeyNavNode = function () {\r\n\t};\r\n\r\n\tgantt.$keyboardNavigation.KeyNavNode.prototype = gantt._compose(\r\n\t\tgantt.$keyboardNavigation.EventHandler,\r\n\t\t{\r\n\t\t\tisValid: function () {\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\tfallback: function () {\r\n\t\t\t\treturn null;\r\n\t\t\t},\r\n\r\n\t\t\tmoveTo: function (element) {\r\n\t\t\t\tgantt.$keyboardNavigation.dispatcher.setActiveNode(element);\r\n\t\t\t},\r\n\r\n\t\t\tcompareTo: function (b) {\r\n\t\t\t\t// good enough comparison of two random objects\r\n\t\t\t\tif (!b) return false;\r\n\t\t\t\tfor (var i in this) {\r\n\t\t\t\t\tif (!!this[i] != !!b[i]) return false;\r\n\r\n\t\t\t\t\tvar canStringifyThis = !!(this[i] && this[i].toString);\r\n\t\t\t\t\tvar canStringifyThat = !!(b[i] && b[i].toString);\r\n\t\t\t\t\tif (canStringifyThat != canStringifyThis) return false;\r\n\t\t\t\t\tif (!(canStringifyThat && canStringifyThis)) {\r\n\t\t\t\t\t\tif (b[i] != this[i]) return false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (b[i].toString() != this[i].toString())\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tgetNode: function () {\r\n\t\t\t},\r\n\t\t\tfocus: function () {\r\n\t\t\t\tvar node = this.getNode();\r\n\t\t\t\tif (node) {\r\n\t\t\t\t\tnode.setAttribute(\"tabindex\", \"-1\");\r\n\t\t\t\t\t//node.className += \" gantt_focused\";\r\n\t\t\t\t\tif (node.focus) node.focus();\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tblur: function () {\r\n\t\t\t\tvar node = this.getNode();\r\n\t\t\t\tif (node) {\r\n\t\t\t\t\tnode.setAttribute(\"tabindex\", \"-1\");\r\n\t\t\t\t\t//node.className = (node.className || \"\").replace(/ ?gantt_focused/g, \"\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\r\n};\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(gantt) {\r\n\r\n\tgantt.$keyboardNavigation.HeaderCell = function (index) {\r\n\t\tthis.index = index || 0;\r\n\t};\r\n\r\n\tgantt.$keyboardNavigation.HeaderCell.prototype = gantt._compose(\r\n\t\tgantt.$keyboardNavigation.KeyNavNode,\r\n\t\t{\r\n\t\t\t_handlers: null,\r\n\r\n\t\t\tisValid: function () {\r\n\t\t\t\tif (!gantt.config.show_grid) {\r\n\t\t\t\t\tif (gantt.getVisibleTaskCount())\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn !!gantt.getGridColumns()[this.index] || !gantt.getVisibleTaskCount();\r\n\t\t\t},\r\n\t\t\tfallback: function () {\r\n\t\t\t\tif (!gantt.config.show_grid) {\r\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\r\n\t\t\t\t\t\treturn new gantt.$keyboardNavigation.TaskRow();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\tvar visibleColumns = gantt.getGridColumns();\r\n\t\t\t\tvar index = this.index;\r\n\t\t\t\twhile (index >= 0) {\r\n\t\t\t\t\tif (visibleColumns[index])\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tindex--;\r\n\t\t\t\t}\r\n\t\t\t\tif (visibleColumns[index]) {\r\n\t\t\t\t\treturn new gantt.$keyboardNavigation.HeaderCell(index);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tgetNode: function () {\r\n\t\t\t\tvar cells = gantt.$grid_scale.childNodes;\r\n\t\t\t\treturn cells[this.index];\r\n\t\t\t},\r\n\r\n\r\n\t\t\tkeys: {\r\n\r\n\t\t\t\t\"left\": function () {\r\n\t\t\t\t\tif (this.index > 0) {\r\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.HeaderCell(this.index - 1));\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t\"right\": function () {\r\n\t\t\t\t\tvar columns = gantt.getGridColumns();\r\n\t\t\t\t\tif (this.index < columns.length - 1) {\r\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.HeaderCell(this.index + 1));\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t\"down\": function () {\r\n\t\t\t\t\tvar taskRow;\r\n\t\t\t\t\tvar rootLevel = gantt.getChildren(gantt.config.root_id);\r\n\t\t\t\t\tif (rootLevel[0]) {\r\n\t\t\t\t\t\ttaskRow = rootLevel[0];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (taskRow) {\r\n\t\t\t\t\t\tif (gantt.config.keyboard_navigation_cells) {\r\n\t\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(taskRow, this.index));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskRow(taskRow));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\t\"end\": function () {\r\n\t\t\t\t\tvar columns = gantt.getGridColumns();\r\n\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.HeaderCell(columns.length - 1));\r\n\t\t\t\t},\r\n\t\t\t\t\"home\": function () {\r\n\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.HeaderCell(0));\r\n\t\t\t\t},\r\n\r\n\r\n\t\t\t\t// press header button\r\n\t\t\t\t\"enter, space\": function () {\r\n\t\t\t\t\tvar node = document.activeElement;\r\n\t\t\t\t\tnode.click();\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// add new task\r\n\t\t\t\t\"ctrl+enter\": function () {\r\n\t\t\t\t\tgantt.createTask({}, this.taskId);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\r\n\tgantt.$keyboardNavigation.HeaderCell.prototype.bindAll(gantt.$keyboardNavigation.HeaderCell.prototype.keys);\r\n\r\n};\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(gantt) {\r\n\r\n\tgantt.$keyboardNavigation.TaskRow = function (taskId) {\r\n\t\tif (!taskId) {\r\n\t\t\tvar rootLevel = gantt.getChildren(gantt.config.root_id);\r\n\t\t\tif (rootLevel[0]) {\r\n\t\t\t\ttaskId = rootLevel[0];\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.taskId = taskId;\r\n\t\tif (gantt.isTaskExists(this.taskId)) {\r\n\t\t\tthis.index = gantt.getTaskIndex(this.taskId);\r\n\t\t}\r\n\t};\r\n\r\n\tgantt.$keyboardNavigation.TaskRow.prototype = gantt._compose(\r\n\t\tgantt.$keyboardNavigation.KeyNavNode,\r\n\t\t{\r\n\t\t\t_handlers: null,\r\n\t\t\tisValid: function () {\r\n\t\t\t\treturn gantt.isTaskExists(this.taskId) && (gantt.getTaskIndex(this.taskId) > -1);\r\n\t\t\t},\r\n\t\t\tfallback: function () {\r\n\t\t\t\tif (!gantt.getVisibleTaskCount()) {\r\n\t\t\t\t\tvar header = new gantt.$keyboardNavigation.HeaderCell();\r\n\t\t\t\t\tif (!header.isValid()) return null;\r\n\t\t\t\t\telse return header;\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tvar nextIndex = -1;\r\n\t\t\t\t\tif (gantt.getTaskByIndex(this.index - 1)) {\r\n\t\t\t\t\t\tnextIndex = this.index - 1;\r\n\t\t\t\t\t} else if (gantt.getTaskByIndex(this.index + 1)) {\r\n\t\t\t\t\t\tnextIndex = this.index + 1;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar index = this.index;\r\n\t\t\t\t\t\twhile (index >= 0) {\r\n\t\t\t\t\t\t\tif (gantt.getTaskByIndex(index) !== undefined) {\r\n\t\t\t\t\t\t\t\tnextIndex = index;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tindex--;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (nextIndex > -1) {\r\n\t\t\t\t\t\treturn new gantt.$keyboardNavigation.TaskRow(gantt.getTaskByIndex(nextIndex).id);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tgetNode: function () {\r\n\t\t\t\tif (gantt.isTaskExists(this.taskId) && gantt.isTaskVisible(this.taskId)) {\r\n\t\t\t\t\tif (gantt.config.show_grid) {\r\n\t\t\t\t\t\treturn gantt.$grid.querySelector(\".gantt_row[\" + gantt.config.task_attribute + \"='\" + this.taskId + \"']\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn gantt.getTaskNode(this.taskId);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tfocus: function () {\r\n\t\t\t\tvar pos = gantt.getTaskPosition(gantt.getTask(this.taskId));\r\n\t\t\t\tvar height = gantt.config.row_height;\r\n\t\t\t\tvar scroll = gantt.getScrollState();\r\n\t\t\t\tif (pos.top < scroll.y || pos.top + height > (scroll.y + scroll.inner_height)) {\r\n\r\n\t\t\t\t\tgantt.scrollTo(null, pos.top - height*5);\r\n\r\n\t\t\t\t} else if (gantt.config.show_chart && (pos.left < scroll.x || pos.left > (scroll.x + scroll.inner_width))) {\r\n\t\t\t\t\tgantt.scrollTo(pos.left - gantt.config.task_scroll_offset);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgantt.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this);\r\n\t\t\t},\r\n\r\n\t\t\tkeys: {\r\n\t\t\t\t\"pagedown\": function () {\r\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\r\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskRow(gantt.getTaskByIndex(gantt.getVisibleTaskCount() - 1).id));\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t\"pageup\": function () {\r\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\r\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskRow(gantt.getTaskByIndex(0).id));\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t\"up\": function () {\r\n\t\t\t\t\tvar nextElement = null;\r\n\t\t\t\t\tvar prevTask = gantt.getPrev(this.taskId);\r\n\t\t\t\t\tif (!prevTask) {\r\n\t\t\t\t\t\tnextElement = new gantt.$keyboardNavigation.HeaderCell();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnextElement = new gantt.$keyboardNavigation.TaskRow(prevTask);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.moveTo(nextElement);\r\n\t\t\t\t},\r\n\t\t\t\t\"down\": function () {\r\n\t\t\t\t\tvar nextTask = gantt.getNext(this.taskId);\r\n\t\t\t\t\tif (nextTask) {\r\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskRow(nextTask));\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// select\r\n\t\t\t\t\"space\": function (e) {\r\n\t\t\t\t\tif (gantt.getState().selected_task != this.taskId) {\r\n\t\t\t\t\t\tgantt.selectTask(this.taskId);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tgantt.unselectTask(this.taskId);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// collapse\r\n\t\t\t\t\"ctrl+left\": function (e) {\r\n\t\t\t\t\tgantt.close(this.taskId);\r\n\t\t\t\t},\r\n\t\t\t\t// expand\r\n\t\t\t\t\"ctrl+right\": function (e) {\r\n\t\t\t\t\tgantt.open(this.taskId);\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// delete task\r\n\t\t\t\t\"delete\": function (e) {\r\n\t\t\t\t\tgantt.$click.buttons[\"delete\"](this.taskId);\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// open lightbox\r\n\t\t\t\t\"enter\": function () {\r\n\t\t\t\t\tgantt.showLightbox(this.taskId);\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// add subtask\r\n\t\t\t\t\"ctrl+enter\": function () {\r\n\t\t\t\t\tgantt.createTask({}, this.taskId);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\tgantt.$keyboardNavigation.TaskRow.prototype.bindAll(gantt.$keyboardNavigation.TaskRow.prototype.keys);\r\n\r\n};\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(gantt) {\r\n\r\n\tgantt.$keyboardNavigation.TaskCell = function (taskId, index) {\r\n\t\tif (!taskId) {\r\n\t\t\tvar rootLevel = gantt.getChildren(gantt.config.root_id);\r\n\t\t\tif (rootLevel[0]) {\r\n\t\t\t\ttaskId = rootLevel[0];\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.taskId = taskId;\r\n\t\tthis.columnIndex = index || 0;\r\n\t\tthis.index = gantt.getTaskIndex(this.taskId);\r\n\t};\r\n\r\n\tgantt.$keyboardNavigation.TaskCell.prototype = gantt._compose(\r\n\t\tgantt.$keyboardNavigation.TaskRow,\r\n\t\t{\r\n\t\t\t_handlers: null,\r\n\t\t\tisValid: function () {\r\n\r\n\t\t\t\treturn gantt.$keyboardNavigation.TaskRow.prototype.isValid.call(this) && !!gantt.getGridColumns()[this.columnIndex];\r\n\t\t\t},\r\n\t\t\tfallback: function () {\r\n\t\t\t\tvar node = gantt.$keyboardNavigation.TaskRow.prototype.fallback.call(this);\r\n\t\t\t\tif (node instanceof gantt.$keyboardNavigation.TaskRow) {\r\n\t\t\t\t\tvar visibleColumns = gantt.getGridColumns();\r\n\t\t\t\t\tvar index = this.columnIndex;\r\n\t\t\t\t\twhile (index >= 0) {\r\n\t\t\t\t\t\tif (visibleColumns[index])\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tindex--;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (visibleColumns[index]) {\r\n\t\t\t\t\t\treturn new gantt.$keyboardNavigation.TaskCell(node.taskId, index);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn node;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tgetNode: function () {\r\n\t\t\t\tif (gantt.isTaskExists(this.taskId) && gantt.isTaskVisible(this.taskId)) {\r\n\t\t\t\t\tif (gantt.config.show_grid) {\r\n\t\t\t\t\t\tvar row = gantt.$grid.querySelector(\".gantt_row[\" + gantt.config.task_attribute + \"='\" + this.taskId + \"']\");\r\n\t\t\t\t\t\treturn row.childNodes[this.columnIndex];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn gantt.getTaskNode(this.taskId);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tkeys: {\r\n\t\t\t\t\"up\": function () {\r\n\r\n\t\t\t\t\tvar nextElement = null;\r\n\t\t\t\t\tvar prevTask = gantt.getPrev(this.taskId);\r\n\t\t\t\t\tif (!prevTask) {\r\n\t\t\t\t\t\tnextElement = new gantt.$keyboardNavigation.HeaderCell(this.columnIndex);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnextElement = new gantt.$keyboardNavigation.TaskCell(prevTask, this.columnIndex);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.moveTo(nextElement);\r\n\t\t\t\t},\r\n\t\t\t\t\"down\": function () {\r\n\t\t\t\t\tvar nextTask = gantt.getNext(this.taskId);\r\n\t\t\t\t\tif (nextTask) {\r\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(nextTask, this.columnIndex));\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t\"left\": function () {\r\n\t\t\t\t\tif (this.columnIndex > 0) {\r\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(this.taskId, this.columnIndex - 1));\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t\"right\": function () {\r\n\t\t\t\t\tvar columns = gantt.getGridColumns();\r\n\t\t\t\t\tif (this.columnIndex < columns.length - 1) {\r\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(this.taskId, this.columnIndex + 1));\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\t\"end\": function () {\r\n\t\t\t\t\tvar columns = gantt.getGridColumns();\r\n\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(this.taskId, columns.length - 1));\r\n\t\t\t\t},\r\n\t\t\t\t\"home\": function () {\r\n\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(this.taskId, 0));\r\n\t\t\t\t},\r\n\t\t\t\t\"pagedown\": function () {\r\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\r\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(gantt.getTaskByIndex(gantt.getVisibleTaskCount() - 1), this.columnIndex));\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t\"pageup\": function () {\r\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\r\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(gantt.getTaskByIndex(0), this.columnIndex));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\r\n\r\n\tgantt.$keyboardNavigation.TaskCell.prototype.bindAll(gantt.$keyboardNavigation.TaskRow.prototype.keys);\r\n\tgantt.$keyboardNavigation.TaskCell.prototype.bindAll(gantt.$keyboardNavigation.TaskCell.prototype.keys);\r\n\r\n};\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(gantt) {\r\n\r\n\t(function () {\r\n\t\tvar modalsStack = [];\r\n\r\n\t\tfunction isModal() {\r\n\t\t\treturn !!modalsStack.length;\r\n\t\t}\r\n\r\n\t\tfunction afterPopup(box) {\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\tif (!isModal())\r\n\t\t\t\t\tgantt.focus();\r\n\t\t\t}, 1);\r\n\t\t}\r\n\r\n\t\tfunction startModal(box) {\r\n\t\t\tgantt.eventRemove(box, \"keydown\", trapFocus);\r\n\t\t\tgantt.event(box, \"keydown\", trapFocus);\r\n\t\t\tmodalsStack.push(box);\r\n\t\t\t//gantt.$keyboardNavigation.dispatcher.disable();\r\n\t\t}\r\n\r\n\t\tfunction endModal() {\r\n\t\t\tvar box = modalsStack.pop();\r\n\t\t\tif (box) {\r\n\t\t\t\tgantt.eventRemove(box, \"keydown\", trapFocus);\r\n\t\t\t}\r\n\t\t\tafterPopup(box);\r\n\r\n\t\t}\r\n\r\n\r\n\t\tfunction isTopModal(box) {\r\n\t\t\treturn box == modalsStack[modalsStack.length - 1];\r\n\t\t}\r\n\r\n\t\tfunction trapFocus(event) {\r\n\t\t\tvar event = event || window.event;\r\n\t\t\tvar target = event.currentTarget;\r\n\t\t\tif (!isTopModal(target)) return;\r\n\r\n\t\t\tgantt.$keyboardNavigation.trapFocus(target, event);\r\n\t\t}\r\n\r\n\t\tfunction traceLightbox() {\r\n\t\t\tstartModal(gantt.getLightbox());\r\n\t\t}\r\n\r\n\t\tgantt.attachEvent(\"onLightbox\", traceLightbox);\r\n\t\tgantt.attachEvent(\"onAfterLightbox\", endModal);\r\n\t\tgantt.attachEvent(\"onLightboxChange\", function () {\r\n\t\t\tendModal();\r\n\t\t\ttraceLightbox();\r\n\t\t});\r\n\r\n\r\n\t\tgantt.attachEvent(\"onAfterQuickInfo\", function () {\r\n\t\t\tafterPopup();\r\n\t\t});\r\n\r\n\t\tgantt.attachEvent(\"onMessagePopup\", function (box) {\r\n\t\t\tsaveFocus();\r\n\t\t\tstartModal(box);\r\n\t\t});\r\n\t\tgantt.attachEvent(\"onAfterMessagePopup\", function () {\r\n\t\t\tendModal();\r\n\t\t\trestoreFocus();\r\n\t\t});\r\n\r\n\t\tvar focusElement = null;\r\n\r\n\t\tfunction saveFocus() {\r\n\t\t\tfocusElement = document.activeElement;\r\n\t\t}\r\n\r\n\t\tfunction restoreFocus() {\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\tif (focusElement) {\r\n\t\t\t\t\tfocusElement.focus();\r\n\t\t\t\t\tfocusElement = null;\r\n\t\t\t\t}\r\n\t\t\t}, 1);\r\n\t\t}\r\n\r\n\t\tgantt.$keyboardNavigation.isModal = isModal;\r\n\r\n\r\n\t})();\r\n\r\n};\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(gantt) {\r\n\r\n\tgantt.$keyboardNavigation.dispatcher = {\r\n\t\tisActive: false,\r\n\t\tactiveNode: null,\r\n\t\tglobalNode: new gantt.$keyboardNavigation.GanttNode(),\r\n\r\n\t\tenable: function () {\r\n\t\t\tthis.isActive = true;\r\n\t\t\tthis.globalNode.enable();\r\n\t\t\tthis.setActiveNode(this.getActiveNode());\r\n\t\t},\r\n\r\n\t\tdisable: function () {\r\n\t\t\tthis.isActive = false;\r\n\t\t\tthis.globalNode.disable();\r\n\t\t},\r\n\r\n\t\tisEnabled: function () {\r\n\t\t\treturn !!this.isActive;\r\n\t\t},\r\n\r\n\t\tgetDefaultNode: function () {\r\n\t\t\tvar node;\r\n\t\t\tif (gantt.config.keyboard_navigation_cells) {\r\n\t\t\t\tnode = new gantt.$keyboardNavigation.TaskCell();\r\n\t\t\t} else {\r\n\t\t\t\tnode = new gantt.$keyboardNavigation.TaskRow();\r\n\t\t\t}\r\n\r\n\t\t\tif (!node.isValid()) {\r\n\t\t\t\tnode = node.fallback();\r\n\t\t\t}\r\n\t\t\treturn node;\r\n\t\t},\r\n\r\n\t\tsetDefaultNode: function () {\r\n\t\t\tthis.setActiveNode(this.getDefaultNode());\r\n\t\t},\r\n\r\n\t\tgetActiveNode: function () {\r\n\t\t\tvar node = this.activeNode;\r\n\t\t\tif (node && !node.isValid()) {\r\n\t\t\t\tnode = node.fallback();\r\n\t\t\t}\r\n\t\t\treturn node;\r\n\t\t},\r\n\r\n\t\tfocusGlobalNode: function () {\r\n\t\t\tthis.blurNode(this.globalNode);\r\n\t\t\tthis.focusNode(this.globalNode);\r\n\t\t},\r\n\r\n\t\tsetActiveNode: function (el) {\r\n\t\t\tif (this.activeNode) {\r\n\t\t\t\tif (this.activeNode.compareTo(el)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this.isEnabled()) {\r\n\t\t\t\tthis.blurNode(this.activeNode);\r\n\t\t\t\tthis.activeNode = el;\r\n\t\t\t\tthis.focusNode(this.activeNode);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tfocusNode: function (el) {\r\n\t\t\tif (el && el.focus) {\r\n\t\t\t\tel.focus();\r\n\t\t\t}\r\n\t\t},\r\n\t\tblurNode: function (el) {\r\n\t\t\tif (el && el.blur) {\r\n\t\t\t\tel.blur();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tkeyDownHandler: function (e) {\r\n\r\n\t\t\tif (gantt.$keyboardNavigation.isModal())\r\n\t\t\t\treturn;\r\n\r\n\t\t\tif (!this.isEnabled())\r\n\t\t\t\treturn;\r\n\r\n\t\t\te = e || window.event;\r\n\r\n\t\t\tvar ganttNode = this.globalNode;\r\n\r\n\t\t\tvar command = gantt.$keyboardNavigation.shortcuts.getCommandFromEvent(e);\r\n\r\n\t\t\tvar activeElement = this.getActiveNode();\r\n\r\n\t\t\tif (!activeElement) {\r\n\t\t\t\tthis.setDefaultNode();\r\n\t\t\t} else if (activeElement.findHandler(command)) {\r\n\t\t\t\tactiveElement.doAction(command, e);\r\n\t\t\t} else if (ganttNode.findHandler(command)) {\r\n\t\t\t\tganttNode.doAction(command, e);\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\t_timeout: null,\r\n\t\tdelay: function(callback, delay){\r\n\r\n\t\t\tclearTimeout(this._timeout);\r\n\t\t\tthis._timeout = setTimeout(callback, delay || 1);\r\n\r\n\t\t}\r\n\t};\r\n\r\n};\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// dhtmlxgantt_keyboard_navigation.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 39c67343b4e330efcd62","//returns position of html element on the page\r\nfunction elementPosition(elem) {\r\n\tvar top=0, left=0, right=0, bottom=0;\r\n\tif (elem.getBoundingClientRect) { //HTML5 method\r\n\t\tvar box = elem.getBoundingClientRect();\r\n\t\tvar body = document.body;\r\n\t\tvar docElem = (document.documentElement ||\r\n\t\t\tdocument.body.parentNode ||\r\n\t\t\tdocument.body);\r\n\r\n\t\tvar scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop;\r\n\t\tvar scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft;\r\n\t\tvar clientTop = docElem.clientTop || body.clientTop || 0;\r\n\t\tvar clientLeft = docElem.clientLeft || body.clientLeft || 0;\r\n\t\ttop  = box.top +  scrollTop - clientTop;\r\n\t\tleft = box.left + scrollLeft - clientLeft;\r\n\r\n\t\tright = document.body.offsetWidth - box.right;\r\n\t\tbottom = document.body.offsetHeight - box.bottom;\r\n\t} else { //fallback to naive approach\r\n\t\twhile(elem) {\r\n\t\t\ttop = top + parseInt(elem.offsetTop,10);\r\n\t\t\tleft = left + parseInt(elem.offsetLeft,10);\r\n\t\t\telem = elem.offsetParent;\r\n\t\t}\r\n\r\n\t\tright = document.body.offsetWidth - elem.offsetWidth - left;\r\n\t\tbottom = document.body.offsetHeight - elem.offsetHeight - top;\r\n\t}\r\n\treturn { y: Math.round(top), x: Math.round(left), width:elem.offsetWidth, height:elem.offsetHeight, right: Math.round(right), bottom: Math.round(bottom) };\r\n}\r\n\r\nfunction isVisible(node){\r\n\tvar display = false,\r\n\t\tvisibility = false;\r\n\tif(window.getComputedStyle){\r\n\t\tvar style = window.getComputedStyle(node, null);\r\n\t\tdisplay = style[\"display\"];\r\n\t\tvisibility = style[\"visibility\"];\r\n\t}else if(node.currentStyle){\r\n\t\tdisplay = node.currentStyle[\"display\"];\r\n\t\tvisibility = node.currentStyle[\"visibility\"];\r\n\t}\r\n\treturn (display != \"none\" && visibility != \"hidden\");\r\n}\r\n\r\nfunction hasNonNegativeTabIndex(node){\r\n\treturn !isNaN(node.getAttribute(\"tabindex\")) && (node.getAttribute(\"tabindex\")*1 >= 0);\r\n}\r\n\r\nfunction hasHref(node){\r\n\tvar canHaveHref = {\"a\": true, \"area\": true};\r\n\tif(canHaveHref[node.nodeName.loLowerCase()]){\r\n\t\treturn !!node.getAttribute(\"href\");\r\n\t}\r\n\treturn true;\r\n}\r\n\r\nfunction isEnabled(node){\r\n\tvar canDisable = {\"input\":true, \"select\":true, \"textarea\":true, \"button\":true, \"object\":true};\r\n\tif(canDisable[node.nodeName.toLowerCase()]){\r\n\t\treturn !node.hasAttribute(\"disabled\");\r\n\t}\r\n\r\n\treturn true;\r\n}\r\n\r\nfunction getFocusableNodes(root){\r\n\tvar nodes = root.querySelectorAll([\r\n\t\t\"a[href]\",\r\n\t\t\"area[href]\",\r\n\t\t\"input\",\r\n\t\t\"select\",\r\n\t\t\"textarea\",\r\n\t\t\"button\",\r\n\t\t\"iframe\",\r\n\t\t\"object\",\r\n\t\t\"embed\",\r\n\t\t\"[tabindex]\",\r\n\t\t\"[contenteditable]\"\r\n\t].join(\", \"));\r\n\r\n\tvar nodesArray = Array.prototype.slice.call(nodes, 0);\r\n\tfor(var i = 0; i < nodesArray.length; i++){\r\n\t\tvar node = nodesArray[i];\r\n\t\tvar isValid = (hasNonNegativeTabIndex(node)  || isEnabled(node) || hasHref(node)) && isVisible(node);\r\n\t\tif(!isValid){\r\n\t\t\tnodesArray.splice(i, 1);\r\n\t\t\ti--;\r\n\t\t}\r\n\t}\r\n\treturn nodesArray;\r\n}\r\n\r\nfunction getScrollSize(){\r\n\tvar div = document.createElement(\"div\");\r\n\tdiv.style.cssText=\"visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;\";\r\n\r\n\tdocument.body.appendChild(div);\r\n\tvar width = div.offsetWidth-div.clientWidth;\r\n\tdocument.body.removeChild(div);\r\n\r\n\treturn width;\r\n}\r\n\r\nfunction getClassName(node){\r\n\tif(!node) return \"\";\r\n\r\n\tvar className = node.className || \"\";\r\n\tif(className.baseVal)//'className' exist but not a string - IE svg element in DOM\r\n\t\tclassName = className.baseVal;\r\n\r\n\tif(!className.indexOf)\r\n\t\tclassName = '';\r\n\r\n\treturn _trimString(className);\r\n}\r\n\r\nfunction addClassName(node, className){\r\n\tif (className && node.className.indexOf(className) === -1) {\r\n\t\tnode.className += \" \" + className;\r\n\t}\r\n}\r\n\r\nfunction removeClassName(node, name) {\r\n\tname = name.split(\" \");\r\n\tfor (var i = 0; i < name.length; i++) {\r\n\t\tvar regEx = new RegExp('\\\\s?\\\\b' + name[i] + '\\\\b(?![-_\\.])', \"\");\r\n\t\tnode.className = node.className.replace(regEx, \"\");\r\n\t}\r\n}\r\n\r\nfunction toNode(node) {\r\n\tif (typeof node === \"string\") {\r\n\t\treturn (document.getElementById(node) || document.querySelector(node) || document.body);\r\n\t}\r\n\treturn node || document.body;\r\n}\r\n\r\nvar _slave = document.createElement(\"div\");\r\nfunction insert(node, newone) {\r\n\t_slave.innerHTML = newone;\r\n\tvar child = _slave.firstChild;\r\n\tnode.appendChild(child);\r\n\treturn child;\r\n}\r\n\r\nfunction remove(node) {\r\n\tif (node && node.parentNode) {\r\n\t\tnode.parentNode.removeChild(node);\r\n\t}\r\n}\r\n\r\nfunction getChildren(node, css) {\r\n\tvar ch = node.childNodes;\r\n\tvar len = ch.length;\r\n\tvar out = [];\r\n\tfor (var i = 0; i < len; i++) {\r\n\t\tvar obj = ch[i];\r\n\t\tif (obj.className && obj.className.indexOf(css) !== -1) {\r\n\t\t\tout.push(obj);\r\n\t\t}\r\n\t}\r\n\treturn out;\r\n}\r\n\r\nfunction getTargetNode(e){\r\n\tvar trg;\r\n\tif (e.tagName)\r\n\t\ttrg = e;\r\n\telse {\r\n\t\te=e||window.event;\r\n\t\ttrg=e.target||e.srcElement;\r\n\t}\r\n\treturn trg;\r\n}\r\n\r\nfunction locateAttribute(e, attribute) {\r\n\tif(!attribute) return;\r\n\r\n\tvar trg = getTargetNode(e);\r\n\r\n\twhile (trg){\r\n\t\tif (trg.getAttribute){\t//text nodes has not getAttribute\r\n\t\t\tvar test = trg.getAttribute(attribute);\r\n\t\t\tif (test) return trg;\r\n\t\t}\r\n\t\ttrg=trg.parentNode;\r\n\t}\r\n\treturn null;\r\n}\r\n\r\nfunction _trimString(str){\r\n\tvar func = String.prototype.trim || function(){ return this.replace(/^\\s+|\\s+$/g, \"\"); };\r\n\treturn func.apply(str);\r\n}\r\n\r\nfunction locateClassName(e, classname, strict){\r\n\tif(strict === undefined)\r\n\t\tstrict = true;\r\n\r\n\tvar trg = getTargetNode(e);\r\n\tvar css = '';\r\n\tvar test = false;\r\n\twhile (trg){\r\n\t\tcss = getClassName(trg);\r\n\r\n\t\tif(css){\r\n\t\t\tvar ind = css.indexOf(classname);\r\n\t\t\tif (ind >= 0){\r\n\t\t\t\tif (!strict)\r\n\t\t\t\t\treturn trg;\r\n\r\n\t\t\t\t//check that we have exact match\r\n\t\t\t\tvar left = (ind === 0) || (!_trimString(css.charAt(ind - 1)));\r\n\t\t\t\tvar right = ((ind + classname.length >= css.length)) || (!_trimString(css.charAt(ind + classname.length)));\r\n\r\n\t\t\t\tif (left && right)\r\n\t\t\t\t\treturn trg;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ttrg=trg.parentNode;\r\n\t}\r\n\treturn null;\r\n}\r\n\r\n/*\r\nevent position relatively to DOM element\r\n */\r\nfunction getRelativeEventPosition(ev, node){\r\n\tif (ev.pageX || ev.pageY)\r\n\t\tvar pos = {x: ev.pageX, y: ev.pageY};\r\n\r\n\tvar d = document.documentElement;\r\n\tvar pos = {\r\n\t\tx: ev.clientX + d.scrollLeft - d.clientLeft,\r\n\t\ty: ev.clientY + d.scrollTop - d.clientTop\r\n\t};\r\n\r\n\tvar box = elementPosition(node);\r\n\tpos.x = pos.x - box.x + node.scrollLeft;\r\n\tpos.y = pos.y - box.y + node.scrollTop;\r\n\treturn pos;\r\n}\r\n\r\n\r\nfunction isChildOf(child, parent){\r\n\twhile(child && child != parent) {\r\n\t\tchild = child.parentNode;\r\n\t}\r\n\treturn child == parent;\r\n}\r\n\r\nmodule.exports = {\r\n\tgetNodePosition: elementPosition,\r\n\tgetFocusableNodes: getFocusableNodes,\r\n\tgetScrollSize: getScrollSize,\r\n\tgetClassName: getClassName,\r\n\taddClassName: addClassName,\r\n\tremoveClassName: removeClassName,\r\n\tinsertNode: insert,\r\n\tremoveNode: remove,\r\n\tgetChildNodes: getChildren,\r\n\ttoNode: toNode,\r\n\tlocateClassName:locateClassName,\r\n\tlocateAttribute: locateAttribute,\r\n\tgetTargetNode: getTargetNode,\r\n\tgetRelativeEventPosition: getRelativeEventPosition,\r\n\tisChildOf: isChildOf,\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/utils/dom_helpers.js\n// module id = 1\n// module chunks = 0 2","(function(){\r\n\tfunction setupKeyNav(gantt){\r\n\t\tgantt.config.keyboard_navigation = true;\r\n\t\tgantt.config.keyboard_navigation_cells = false;\r\n\r\n\t\tgantt.addShortcut = function(shortcut, handler, scope){\r\n\t\t\tvar scopeObject = getScope(scope);\r\n\t\t\tif(scopeObject){\r\n\t\t\t\tscopeObject.prototype.bind(shortcut, handler);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tgantt.getShortcutHandler = function(shortcut, scope){\r\n\t\t\tvar scopeObject = getScope(scope);\r\n\t\t\tif(scopeObject){\r\n\t\t\t\tvar commands = gantt.$keyboardNavigation.shortcuts.parse(shortcut);\r\n\t\t\t\tif(commands.length){\r\n\t\t\t\t\treturn scopeObject.prototype.findHandler(commands[0]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tgantt.removeShortcut = function(shortcut, scope){\r\n\t\t\tvar scopeObject = getScope(scope);\r\n\t\t\tif(scopeObject){\r\n\t\t\t\tscopeObject.prototype.unbind(shortcut);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tgantt.focus = function(){\r\n\r\n\t\t\tvar disp = gantt.$keyboardNavigation.dispatcher;\r\n\t\t\tdisp.enable();\r\n\t\t\tif(!disp.getActiveNode()){\r\n\t\t\t\tdisp.setDefaultNode();\r\n\t\t\t}else{\r\n\t\t\t\tdisp.focusNode(disp.getActiveNode());\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\r\n\r\n\t\tfunction getScope(mode){\r\n\t\t\tvar scopes = {\r\n\t\t\t\t\"gantt\":gantt.$keyboardNavigation.GanttNode,\r\n\t\t\t\t\"headerCell\": gantt.$keyboardNavigation.HeaderCell,\r\n\t\t\t\t\"taskRow\": gantt.$keyboardNavigation.TaskRow,\r\n\t\t\t\t\"taskCell\": gantt.$keyboardNavigation.HeaderCell\r\n\t\t\t};\r\n\r\n\t\t\treturn scopes[mode] || scopes.gantt;\r\n\t\t}\r\n\r\n\t\tgantt.$keyboardNavigation = {};\r\n\r\n\t\tgantt._compose = function(){\r\n\t\t\tvar parts = Array.prototype.slice.call(arguments, 0);\r\n\t\t\tvar res = {};\r\n\t\t\tfor(var i = 0; i < parts.length; i++){\r\n\t\t\t\tvar obj = parts[i];\r\n\t\t\t\tif(typeof obj == \"function\"){\r\n\t\t\t\t\tobj = new obj();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor(var p in obj){\r\n\t\t\t\t\tres[p] = obj[p];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn res;\r\n\t\t};\r\n\r\n\t\trequire (\"./keyboard_navigation/common/keyboard_shortcuts\")(gantt);\r\n\t\trequire (\"./keyboard_navigation/common/eventhandler\")(gantt);\r\n\t\trequire (\"./keyboard_navigation/common/trap_modal_focus\")(gantt);\r\n\t\trequire (\"./keyboard_navigation/elements/gantt_node\")(gantt);\r\n\t\trequire (\"./keyboard_navigation/elements/nav_node\")(gantt);\r\n\t\trequire (\"./keyboard_navigation/elements/header_cell\")(gantt);\r\n\t\trequire (\"./keyboard_navigation/elements/task_row\")(gantt);\r\n\t\trequire (\"./keyboard_navigation/elements/task_cell\")(gantt);\r\n\t\trequire (\"./keyboard_navigation/modals\")(gantt);\r\n\t\trequire (\"./keyboard_navigation/core\")(gantt);\r\n\r\n\t\t(function(){\r\n\t\t\tvar dispatcher = gantt.$keyboardNavigation.dispatcher;\r\n\r\n\t\t\tvar keyDownHandler = function(e){\r\n\t\t\t\tif(!gantt.config.keyboard_navigation) return;\r\n\r\n\t\t\t\treturn dispatcher.keyDownHandler(e);\r\n\t\t\t};\r\n\r\n\t\t\tvar focusHandler = function(){\r\n\t\t\t\tdispatcher.focusGlobalNode();\r\n\t\t\t};\r\n\r\n\t\t\tgantt.attachEvent(\"onDataRender\", function(){\r\n\t\t\t\tif(!gantt.config.keyboard_navigation) return;\r\n\t\t\t\tif(dispatcher.isEnabled()){\r\n\t\t\t\t\tvar activeNode = dispatcher.getActiveNode();\r\n\t\t\t\t\tif(activeNode){\r\n\t\t\t\t\t\tactiveNode.focus();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tgantt.attachEvent(\"onGanttRender\", function(){\r\n\t\t\t\tgantt.eventRemove(document, \"keydown\", keyDownHandler);\r\n\t\t\t\tgantt.eventRemove(gantt.$container, \"focus\", focusHandler);\r\n\t\t\t\tgantt.eventRemove(gantt.$container, \"mousedown\", mousedownHandler);\r\n\r\n\t\t\t\tif(gantt.config.keyboard_navigation){\r\n\r\n\t\t\t\t\tgantt.event(document, \"keydown\", keyDownHandler);\r\n\t\t\t\t\tgantt.event(gantt.$container, \"focus\", focusHandler);\r\n\t\t\t\t\tgantt.event(gantt.$container, \"mousedown\", mousedownHandler);\r\n\t\t\t\t\tgantt.$container.setAttribute(\"tabindex\", \"0\");\r\n\r\n\t\t\t\t}else{\r\n\t\t\t\t\tgantt.$container.removeAttribute(\"tabindex\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tfunction mousedownHandler(e){\r\n\t\t\t\tif(!gantt.config.keyboard_navigation) return true;\r\n\r\n\t\t\t\tvar focusNode;\r\n\t\t\t\tif(gantt._locateHTML(e, gantt.config.task_attribute)){\r\n\t\t\t\t\tfocusNode = new gantt.$keyboardNavigation.TaskRow(\r\n\t\t\t\t\t\tgantt._locateHTML(e, gantt.config.task_attribute)\r\n\t\t\t\t\t\t\t.getAttribute(gantt.config.task_attribute));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(focusNode) {\r\n\t\t\t\t\tif (!dispatcher.isEnabled()) {\r\n\t\t\t\t\t\tdispatcher.activeNode = focusNode;\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdispatcher.delay(function () {\r\n\t\t\t\t\t\t\tdispatcher.setActiveNode(focusNode);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t\tvar onReady = gantt.attachEvent(\"onGanttReady\", function(){\r\n\t\t\t\t// restore focus on repainted tasks\r\n\t\t\t\tgantt.detachEvent(onReady);\r\n\r\n\t\t\t\tvar skipNext = false;\r\n\t\t\t\tgantt.$data.tasksStore.attachEvent(\"onStoreUpdated\", function(id){\r\n\t\t\t\t\tif(skipNext){\r\n\t\t\t\t\t\tskipNext = false;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(gantt.config.keyboard_navigation && dispatcher.isEnabled()){\r\n\t\t\t\t\t\tvar currentNode = dispatcher.getActiveNode();\r\n\t\t\t\t\t\tif(currentNode && currentNode.taskId == id){\r\n\t\t\t\t\t\t\tskipNext = true;\r\n\t\t\t\t\t\t\tdispatcher.focusNode(currentNode);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif(gantt._smart_render){\r\n\t\t\t\t\tvar updateRender = gantt._smart_render._redrawItems;\r\n\t\t\t\t\tgantt._smart_render._redrawItems = function(renderers, items){\r\n\t\t\t\t\t\tif(gantt.config.keyboard_navigation && dispatcher.isEnabled()){\r\n\t\t\t\t\t\t\tvar currentNode = dispatcher.getActiveNode();\r\n\t\t\t\t\t\t\tif(currentNode && currentNode.taskId !== undefined){\r\n\t\t\t\t\t\t\t\tvar focusedItemVisible = false;\r\n\t\t\t\t\t\t\t\tfor(var i = 0; i < items.length; i++){\r\n\t\t\t\t\t\t\t\t\tif(items[i].id == currentNode.taskId && items[i].start_date){\r\n\t\t\t\t\t\t\t\t\t\tfocusedItemVisible = true;\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(!focusedItemVisible){\r\n\t\t\t\t\t\t\t\t\titems.push(gantt.getTask(currentNode.taskId));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar res = updateRender.apply(this, arguments);\r\n\r\n\t\t\t\t\t\treturn res;\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\r\n\r\n\t\t\tgantt.attachEvent(\"onAfterTaskAdd\", function(id,item){\r\n\t\t\t\tif(!gantt.config.keyboard_navigation) return true;\r\n\t\t\t\tif(dispatcher.isEnabled()){\r\n\t\t\t\t\tdispatcher.setActiveNode(new gantt.$keyboardNavigation.TaskRow(id));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tgantt.attachEvent(\"onTaskIdChange\", function(oldId, newId){\r\n\t\t\t\tif(!gantt.config.keyboard_navigation) return true;\r\n\r\n\t\t\t\tvar node = dispatcher.activeNode;\r\n\t\t\t\tif(node instanceof gantt.$keyboardNavigation.TaskRow || node instanceof gantt.$keyboardNavigation.TaskCell){\r\n\t\t\t\t\tif(node.taskId == oldId){\r\n\t\t\t\t\t\tnode.taskId = newId;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn true;\r\n\t\t\t});\r\n\r\n\t\t\tgantt.attachEvent(\"onTaskClick\", function(id){\r\n\t\t\t\tif(!gantt.config.keyboard_navigation) return true;\r\n\t\t\t\tdispatcher.enable();\r\n\t\t\t\tdispatcher.setActiveNode(new gantt.$keyboardNavigation.TaskRow(id));\r\n\t\t\t\treturn true;\r\n\t\t\t});\r\n\r\n\t\t\tgantt.attachEvent(\"onEmptyClick\", function(){\r\n\t\t\t\tif(!gantt.config.keyboard_navigation) return true;\r\n\t\t\t\tdispatcher.enable();\r\n\t\t\t});\r\n\r\n\t\t\tvar interval = setInterval(function(){\r\n\t\t\t\tif(!gantt.config.keyboard_navigation) return;\r\n\r\n\t\t\t\tvar enable;\r\n\t\t\t\tvar focusElement = document.activeElement;\r\n\r\n\t\t\t\tvar parent = gantt.$container;\r\n\t\t\t\t// halt key nav when focus is outside gantt or in quick info popup\r\n\t\t\t\tif(!focusElement || gantt._locate_css(focusElement, \"gantt_cal_quick_info\")){\r\n\t\t\t\t\tenable = false;\r\n\t\t\t\t}else{\r\n\t\t\t\t\twhile(focusElement != parent &&  focusElement){\r\n\t\t\t\t\t\tfocusElement = focusElement.parentNode;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(focusElement == parent){\r\n\t\t\t\t\t\tenable = true;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tenable = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(enable && !dispatcher.isEnabled()){\r\n\t\t\t\t\tdispatcher.enable();\r\n\t\t\t\t}else if(!enable && dispatcher.isEnabled()){\r\n\t\t\t\t\tdispatcher.disable();\r\n\t\t\t\t}\r\n\r\n\t\t\t}, 500);\r\n\r\n\t\t\tgantt.attachEvent(\"onDestroy\", function(){\r\n\t\t\t\tclearInterval(interval);\r\n\t\t\t});\r\n\r\n\t\t})();\r\n\r\n\t}\r\n\r\n\r\n\tif(window.Gantt){\r\n\t\twindow.Gantt.plugin(setupKeyNav);\r\n\t}else{\r\n\t\tsetupKeyNav(window.gantt);\r\n\t}\r\n})();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation.js\n// module id = 14\n// module chunks = 0","module.exports = function(gantt) {\r\n\r\n\tgantt.$keyboardNavigation.shortcuts = {\r\n\t\tcreateCommand: function () {\r\n\t\t\treturn {\r\n\t\t\t\tmodifiers: {\r\n\t\t\t\t\t\"shift\": false,\r\n\t\t\t\t\t\"alt\": false,\r\n\t\t\t\t\t\"ctrl\": false,\r\n\t\t\t\t\t\"meta\": false\r\n\t\t\t\t},\r\n\t\t\t\tkeyCode: null\r\n\t\t\t};\r\n\t\t},\r\n\t\tparse: function (shortcut) {\r\n\t\t\tvar commands = [];\r\n\r\n\t\t\tvar expr = this.getExpressions(this.trim(shortcut));\r\n\t\t\tfor (var i = 0; i < expr.length; i++) {\r\n\t\t\t\tvar words = this.getWords(expr[i]);\r\n\r\n\t\t\t\tvar command = this.createCommand();\r\n\r\n\t\t\t\tfor (var j = 0; j < words.length; j++) {\r\n\t\t\t\t\tif (this.commandKeys[words[j]]) {\r\n\t\t\t\t\t\tcommand.modifiers[words[j]] = true;\r\n\t\t\t\t\t} else if (this.specialKeys[words[j]]) {\r\n\t\t\t\t\t\tcommand.keyCode = this.specialKeys[words[j]];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcommand.keyCode = words[j].charCodeAt(0);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcommands.push(command);\r\n\t\t\t}\r\n\t\t\treturn commands;\r\n\t\t},\r\n\r\n\t\tgetCommandFromEvent: function (domEvent) {\r\n\t\t\tvar command = this.createCommand();\r\n\t\t\tcommand.modifiers.shift = !!domEvent.shiftKey;\r\n\t\t\tcommand.modifiers.alt = !!domEvent.altKey;\r\n\t\t\tcommand.modifiers.ctrl = !!domEvent.ctrlKey;\r\n\t\t\tcommand.modifiers.meta = !!domEvent.metaKey;\r\n\t\t\tcommand.keyCode = domEvent.which || domEvent.keyCode;\r\n\r\n\t\t\tif(command.keyCode >= 96 && command.keyCode <= 105){\r\n\t\t\t\t// numpad keys 96-105 -> 48-57\r\n\t\t\t\tcommand.keyCode -= 48;//convert numpad  number code to regular number code\r\n\t\t\t}\r\n\r\n\t\t\tvar printableKey = String.fromCharCode(command.keyCode);\r\n\t\t\tif (printableKey) {\r\n\t\t\t\tcommand.keyCode = printableKey.toLowerCase().charCodeAt(0);\r\n\t\t\t}\r\n\t\t\treturn command;\r\n\t\t},\r\n\r\n\t\tgetHashFromEvent: function (domEvent) {\r\n\t\t\treturn this.getHash(this.getCommandFromEvent(domEvent));\r\n\t\t},\r\n\r\n\t\tgetHash: function (command) {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor (var i in command.modifiers) {\r\n\t\t\t\tif (command.modifiers[i]) {\r\n\t\t\t\t\tparts.push(i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tparts.push(command.keyCode);\r\n\r\n\t\t\treturn parts.join(this.junctionChar);\r\n\t\t},\r\n\r\n\t\tgetExpressions: function (shortcut) {\r\n\t\t\treturn shortcut.split(this.junctionChar);\r\n\t\t},\r\n\t\tgetWords: function (term) {\r\n\t\t\treturn term.split(this.combinationChar);\r\n\t\t},\r\n\t\ttrim: function (shortcut) {\r\n\t\t\treturn shortcut.replace(/\\s/g, \"\");\r\n\t\t},\r\n\t\tjunctionChar: \",\",\r\n\t\tcombinationChar: \"+\",\r\n\t\tcommandKeys: {\r\n\t\t\t\"shift\": 16,\r\n\t\t\t\"alt\": 18,\r\n\t\t\t\"ctrl\": 17,\r\n\t\t\t\"meta\": true\r\n\t\t},\r\n\t\tspecialKeys: {\r\n\t\t\t\"backspace\": 8,\r\n\t\t\t\"tab\": 9,\r\n\t\t\t\"enter\": 13,\r\n\t\t\t\"esc\": 27,\r\n\t\t\t\"space\": 32,\r\n\t\t\t\"up\": 38,\r\n\t\t\t\"down\": 40,\r\n\t\t\t\"left\": 37,\r\n\t\t\t\"right\": 39,\r\n\t\t\t\"home\": 36,\r\n\t\t\t\"end\": 35,\r\n\t\t\t\"pageup\": 33,\r\n\t\t\t\"pagedown\": 34,\r\n\t\t\t\"delete\": 46,\r\n\t\t\t\"insert\": 45,\r\n\t\t\t\"plus\": 107,\r\n\t\t\t\"f1\": 112,\r\n\t\t\t\"f2\": 113,\r\n\t\t\t\"f3\": 114,\r\n\t\t\t\"f4\": 115,\r\n\t\t\t\"f5\": 116,\r\n\t\t\t\"f6\": 117,\r\n\t\t\t\"f7\": 118,\r\n\t\t\t\"f8\": 119,\r\n\t\t\t\"f9\": 120,\r\n\t\t\t\"f10\": 121,\r\n\t\t\t\"f11\": 122,\r\n\t\t\t\"f12\": 123\r\n\t\t}\r\n\t};\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/common/keyboard_shortcuts.js\n// module id = 15\n// module chunks = 0","module.exports = function(gantt) {\r\n\r\n\tgantt.$keyboardNavigation.EventHandler = {\r\n\t\t_handlers: null,\r\n\t\tfindHandler: function (command) {\r\n\t\t\tif (!this._handlers) this._handlers = {};\r\n\t\t\tvar shortcuts = gantt.$keyboardNavigation.shortcuts;\r\n\t\t\tvar hash = shortcuts.getHash(command);\r\n\r\n\t\t\treturn this._handlers[hash];\r\n\t\t},\r\n\r\n\t\tdoAction: function (command, e) {\r\n\t\t\tvar handler = this.findHandler(command);\r\n\t\t\tif (handler) {\r\n\t\t\t\thandler.call(this, e);\r\n\r\n\t\t\t\tif (e.preventDefault) e.preventDefault();\r\n\t\t\t\telse e.returnValue = false;\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tbind: function (shortcut, handler) {\r\n\t\t\tif (!this._handlers) this._handlers = {};\r\n\r\n\t\t\tvar shortcuts = gantt.$keyboardNavigation.shortcuts;\r\n\r\n\t\t\tvar commands = shortcuts.parse(shortcut);\r\n\t\t\tfor (var i = 0; i < commands.length; i++) {\r\n\t\t\t\tthis._handlers[shortcuts.getHash(commands[i])] = handler;\r\n\t\t\t}\r\n\t\t},\r\n\t\tunbind: function (shortcut) {\r\n\t\t\tvar shortcuts = gantt.$keyboardNavigation.shortcuts;\r\n\r\n\t\t\tvar commands = shortcuts.parse(shortcut);\r\n\t\t\tfor (var i = 0; i < commands.length; i++) {\r\n\t\t\t\tif (this._handlers[shortcuts.getHash(commands[i])]) {\r\n\t\t\t\t\tdelete this._handlers[shortcuts.getHash(commands[i])];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tbindAll: function (map) {\r\n\t\t\tfor (var i in map) {\r\n\t\t\t\tthis.bind(i, map[i]);\r\n\t\t\t}\r\n\t\t},\r\n\t\tinitKeys: function () {\r\n\t\t\tif (!this._handlers)\r\n\t\t\t\tthis._handlers = {};\r\n\t\t\tif (this.keys) {\r\n\t\t\t\tthis.bindAll(this.keys);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/common/eventhandler.js\n// module id = 16\n// module chunks = 0","module.exports = function(gantt) {\r\n\r\n\t(function () {\r\n\t\tvar domHelpers = require(\"../../../utils/dom_helpers\");\r\n\t\tgantt.$keyboardNavigation.getFocusableNodes = domHelpers.getFocusableNodes;\r\n\r\n\t\tgantt.$keyboardNavigation.trapFocus = function trapFocus(root, e) {\r\n\t\t\tif (e.keyCode != 9) return false;\r\n\r\n\t\t\tvar focusable = gantt.$keyboardNavigation.getFocusableNodes(root);\r\n\t\t\tvar currentFocus = document.activeElement;\r\n\t\t\tvar currentIndex = -1;\r\n\t\t\tfor (var i = 0; i < focusable.length; i++) {\r\n\t\t\t\tif (focusable[i] == currentFocus) {\r\n\t\t\t\t\tcurrentIndex = i;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (e.shiftKey) {\r\n\t\t\t\t// back tab\r\n\t\t\t\tif (currentIndex <= 0) {\r\n\t\t\t\t\t// go to the last element if we focused on the first\r\n\t\t\t\t\tvar lastItem = focusable[focusable.length - 1];\r\n\t\t\t\t\tif (lastItem) {\r\n\t\t\t\t\t\tlastItem.focus();\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\t// forward tab\r\n\t\t\t\tif (currentIndex >= focusable.length - 1) {\r\n\t\t\t\t\t// forward tab from last element should go back to the first element\r\n\t\t\t\t\tvar firstItem = focusable[0];\r\n\t\t\t\t\tif (firstItem) {\r\n\t\t\t\t\t\tfirstItem.focus();\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t};\r\n\t})();\r\n\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/common/trap_modal_focus.js\n// module id = 17\n// module chunks = 0","module.exports = function(gantt) {\r\n\r\n\tgantt.$keyboardNavigation.GanttNode = function () {\r\n\t};\r\n\r\n\tgantt.$keyboardNavigation.GanttNode.prototype = gantt._compose(\r\n\t\tgantt.$keyboardNavigation.EventHandler,\r\n\t\t{\r\n\r\n\t\t\tfocus: function () {\r\n\t\t\t\tgantt.focus();\r\n\t\t\t},\r\n\r\n\t\t\tblur: function () {\r\n\r\n\t\t\t},\r\n\r\n\t\t\tdisable: function () {\r\n\t\t\t\tgantt.$container.setAttribute(\"tabindex\", \"0\");\r\n\t\t\t},\r\n\t\t\tenable: function () {\r\n\t\t\t\tif (gantt.$container)\r\n\t\t\t\t\tgantt.$container.removeAttribute(\"tabindex\");\r\n\t\t\t},\r\n\t\t\tisEnabled: function () {\r\n\t\t\t\treturn gantt.$container.hasAttribute(\"tabindex\");\r\n\t\t\t},\r\n\r\n\t\t\tscrollHorizontal: function scrollHorizontal(dir) {\r\n\t\t\t\tvar date = gantt.dateFromPos(gantt.getScrollState().x);\r\n\t\t\t\tvar step = dir < 0 ? -gantt.config.step : gantt.config.step;\r\n\t\t\t\tdate = gantt.date.add(date, step, gantt.config.scale_unit);\r\n\t\t\t\tgantt.scrollTo(gantt.posFromDate(date));\r\n\t\t\t},\r\n\r\n\t\t\tscrollVertical: function scrollVertical(dir) {\r\n\t\t\t\tvar top = gantt.getScrollState().y;\r\n\t\t\t\tvar step = gantt.config.row_height;\r\n\t\t\t\tgantt.scrollTo(null, top + (dir < 0 ? -1 : 1) * step);\r\n\t\t\t},\r\n\r\n\t\t\tkeys: {\r\n\t\t\t\t\"alt+left\": function (e) {\r\n\t\t\t\t\tthis.scrollHorizontal(-1);\r\n\t\t\t\t},\r\n\t\t\t\t\"alt+right\": function (e) {\r\n\t\t\t\t\tthis.scrollHorizontal(1);\r\n\t\t\t\t},\r\n\t\t\t\t\"alt+up\": function (e) {\r\n\t\t\t\t\tthis.scrollVertical(-1);\r\n\t\t\t\t},\r\n\t\t\t\t\"alt+down\": function (e) {\r\n\t\t\t\t\tthis.scrollVertical(1);\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// undo\r\n\t\t\t\t\"ctrl+z\": function () {\r\n\t\t\t\t\tif (gantt.undo) gantt.undo();\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// redo\r\n\t\t\t\t\"ctrl+r\": function () {\r\n\t\t\t\t\tif (gantt.redo) gantt.redo();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\r\n\tgantt.$keyboardNavigation.GanttNode.prototype.bindAll(gantt.$keyboardNavigation.GanttNode.prototype.keys);\r\n\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/elements/gantt_node.js\n// module id = 18\n// module chunks = 0","module.exports = function(gantt) {\r\n\r\n\tgantt.$keyboardNavigation.KeyNavNode = function () {\r\n\t};\r\n\r\n\tgantt.$keyboardNavigation.KeyNavNode.prototype = gantt._compose(\r\n\t\tgantt.$keyboardNavigation.EventHandler,\r\n\t\t{\r\n\t\t\tisValid: function () {\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\tfallback: function () {\r\n\t\t\t\treturn null;\r\n\t\t\t},\r\n\r\n\t\t\tmoveTo: function (element) {\r\n\t\t\t\tgantt.$keyboardNavigation.dispatcher.setActiveNode(element);\r\n\t\t\t},\r\n\r\n\t\t\tcompareTo: function (b) {\r\n\t\t\t\t// good enough comparison of two random objects\r\n\t\t\t\tif (!b) return false;\r\n\t\t\t\tfor (var i in this) {\r\n\t\t\t\t\tif (!!this[i] != !!b[i]) return false;\r\n\r\n\t\t\t\t\tvar canStringifyThis = !!(this[i] && this[i].toString);\r\n\t\t\t\t\tvar canStringifyThat = !!(b[i] && b[i].toString);\r\n\t\t\t\t\tif (canStringifyThat != canStringifyThis) return false;\r\n\t\t\t\t\tif (!(canStringifyThat && canStringifyThis)) {\r\n\t\t\t\t\t\tif (b[i] != this[i]) return false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (b[i].toString() != this[i].toString())\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tgetNode: function () {\r\n\t\t\t},\r\n\t\t\tfocus: function () {\r\n\t\t\t\tvar node = this.getNode();\r\n\t\t\t\tif (node) {\r\n\t\t\t\t\tnode.setAttribute(\"tabindex\", \"-1\");\r\n\t\t\t\t\t//node.className += \" gantt_focused\";\r\n\t\t\t\t\tif (node.focus) node.focus();\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tblur: function () {\r\n\t\t\t\tvar node = this.getNode();\r\n\t\t\t\tif (node) {\r\n\t\t\t\t\tnode.setAttribute(\"tabindex\", \"-1\");\r\n\t\t\t\t\t//node.className = (node.className || \"\").replace(/ ?gantt_focused/g, \"\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/elements/nav_node.js\n// module id = 19\n// module chunks = 0","module.exports = function(gantt) {\r\n\r\n\tgantt.$keyboardNavigation.HeaderCell = function (index) {\r\n\t\tthis.index = index || 0;\r\n\t};\r\n\r\n\tgantt.$keyboardNavigation.HeaderCell.prototype = gantt._compose(\r\n\t\tgantt.$keyboardNavigation.KeyNavNode,\r\n\t\t{\r\n\t\t\t_handlers: null,\r\n\r\n\t\t\tisValid: function () {\r\n\t\t\t\tif (!gantt.config.show_grid) {\r\n\t\t\t\t\tif (gantt.getVisibleTaskCount())\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn !!gantt.getGridColumns()[this.index] || !gantt.getVisibleTaskCount();\r\n\t\t\t},\r\n\t\t\tfallback: function () {\r\n\t\t\t\tif (!gantt.config.show_grid) {\r\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\r\n\t\t\t\t\t\treturn new gantt.$keyboardNavigation.TaskRow();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\tvar visibleColumns = gantt.getGridColumns();\r\n\t\t\t\tvar index = this.index;\r\n\t\t\t\twhile (index >= 0) {\r\n\t\t\t\t\tif (visibleColumns[index])\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tindex--;\r\n\t\t\t\t}\r\n\t\t\t\tif (visibleColumns[index]) {\r\n\t\t\t\t\treturn new gantt.$keyboardNavigation.HeaderCell(index);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tgetNode: function () {\r\n\t\t\t\tvar cells = gantt.$grid_scale.childNodes;\r\n\t\t\t\treturn cells[this.index];\r\n\t\t\t},\r\n\r\n\r\n\t\t\tkeys: {\r\n\r\n\t\t\t\t\"left\": function () {\r\n\t\t\t\t\tif (this.index > 0) {\r\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.HeaderCell(this.index - 1));\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t\"right\": function () {\r\n\t\t\t\t\tvar columns = gantt.getGridColumns();\r\n\t\t\t\t\tif (this.index < columns.length - 1) {\r\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.HeaderCell(this.index + 1));\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t\"down\": function () {\r\n\t\t\t\t\tvar taskRow;\r\n\t\t\t\t\tvar rootLevel = gantt.getChildren(gantt.config.root_id);\r\n\t\t\t\t\tif (rootLevel[0]) {\r\n\t\t\t\t\t\ttaskRow = rootLevel[0];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (taskRow) {\r\n\t\t\t\t\t\tif (gantt.config.keyboard_navigation_cells) {\r\n\t\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(taskRow, this.index));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskRow(taskRow));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\t\"end\": function () {\r\n\t\t\t\t\tvar columns = gantt.getGridColumns();\r\n\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.HeaderCell(columns.length - 1));\r\n\t\t\t\t},\r\n\t\t\t\t\"home\": function () {\r\n\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.HeaderCell(0));\r\n\t\t\t\t},\r\n\r\n\r\n\t\t\t\t// press header button\r\n\t\t\t\t\"enter, space\": function () {\r\n\t\t\t\t\tvar node = document.activeElement;\r\n\t\t\t\t\tnode.click();\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// add new task\r\n\t\t\t\t\"ctrl+enter\": function () {\r\n\t\t\t\t\tgantt.createTask({}, this.taskId);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\r\n\tgantt.$keyboardNavigation.HeaderCell.prototype.bindAll(gantt.$keyboardNavigation.HeaderCell.prototype.keys);\r\n\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/elements/header_cell.js\n// module id = 20\n// module chunks = 0","module.exports = function(gantt) {\r\n\r\n\tgantt.$keyboardNavigation.TaskRow = function (taskId) {\r\n\t\tif (!taskId) {\r\n\t\t\tvar rootLevel = gantt.getChildren(gantt.config.root_id);\r\n\t\t\tif (rootLevel[0]) {\r\n\t\t\t\ttaskId = rootLevel[0];\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.taskId = taskId;\r\n\t\tif (gantt.isTaskExists(this.taskId)) {\r\n\t\t\tthis.index = gantt.getTaskIndex(this.taskId);\r\n\t\t}\r\n\t};\r\n\r\n\tgantt.$keyboardNavigation.TaskRow.prototype = gantt._compose(\r\n\t\tgantt.$keyboardNavigation.KeyNavNode,\r\n\t\t{\r\n\t\t\t_handlers: null,\r\n\t\t\tisValid: function () {\r\n\t\t\t\treturn gantt.isTaskExists(this.taskId) && (gantt.getTaskIndex(this.taskId) > -1);\r\n\t\t\t},\r\n\t\t\tfallback: function () {\r\n\t\t\t\tif (!gantt.getVisibleTaskCount()) {\r\n\t\t\t\t\tvar header = new gantt.$keyboardNavigation.HeaderCell();\r\n\t\t\t\t\tif (!header.isValid()) return null;\r\n\t\t\t\t\telse return header;\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tvar nextIndex = -1;\r\n\t\t\t\t\tif (gantt.getTaskByIndex(this.index - 1)) {\r\n\t\t\t\t\t\tnextIndex = this.index - 1;\r\n\t\t\t\t\t} else if (gantt.getTaskByIndex(this.index + 1)) {\r\n\t\t\t\t\t\tnextIndex = this.index + 1;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar index = this.index;\r\n\t\t\t\t\t\twhile (index >= 0) {\r\n\t\t\t\t\t\t\tif (gantt.getTaskByIndex(index) !== undefined) {\r\n\t\t\t\t\t\t\t\tnextIndex = index;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tindex--;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (nextIndex > -1) {\r\n\t\t\t\t\t\treturn new gantt.$keyboardNavigation.TaskRow(gantt.getTaskByIndex(nextIndex).id);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tgetNode: function () {\r\n\t\t\t\tif (gantt.isTaskExists(this.taskId) && gantt.isTaskVisible(this.taskId)) {\r\n\t\t\t\t\tif (gantt.config.show_grid) {\r\n\t\t\t\t\t\treturn gantt.$grid.querySelector(\".gantt_row[\" + gantt.config.task_attribute + \"='\" + this.taskId + \"']\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn gantt.getTaskNode(this.taskId);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tfocus: function () {\r\n\t\t\t\tvar pos = gantt.getTaskPosition(gantt.getTask(this.taskId));\r\n\t\t\t\tvar height = gantt.config.row_height;\r\n\t\t\t\tvar scroll = gantt.getScrollState();\r\n\t\t\t\tif (pos.top < scroll.y || pos.top + height > (scroll.y + scroll.inner_height)) {\r\n\r\n\t\t\t\t\tgantt.scrollTo(null, pos.top - height*5);\r\n\r\n\t\t\t\t} else if (gantt.config.show_chart && (pos.left < scroll.x || pos.left > (scroll.x + scroll.inner_width))) {\r\n\t\t\t\t\tgantt.scrollTo(pos.left - gantt.config.task_scroll_offset);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgantt.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this);\r\n\t\t\t},\r\n\r\n\t\t\tkeys: {\r\n\t\t\t\t\"pagedown\": function () {\r\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\r\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskRow(gantt.getTaskByIndex(gantt.getVisibleTaskCount() - 1).id));\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t\"pageup\": function () {\r\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\r\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskRow(gantt.getTaskByIndex(0).id));\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t\"up\": function () {\r\n\t\t\t\t\tvar nextElement = null;\r\n\t\t\t\t\tvar prevTask = gantt.getPrev(this.taskId);\r\n\t\t\t\t\tif (!prevTask) {\r\n\t\t\t\t\t\tnextElement = new gantt.$keyboardNavigation.HeaderCell();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnextElement = new gantt.$keyboardNavigation.TaskRow(prevTask);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.moveTo(nextElement);\r\n\t\t\t\t},\r\n\t\t\t\t\"down\": function () {\r\n\t\t\t\t\tvar nextTask = gantt.getNext(this.taskId);\r\n\t\t\t\t\tif (nextTask) {\r\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskRow(nextTask));\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// select\r\n\t\t\t\t\"space\": function (e) {\r\n\t\t\t\t\tif (gantt.getState().selected_task != this.taskId) {\r\n\t\t\t\t\t\tgantt.selectTask(this.taskId);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tgantt.unselectTask(this.taskId);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// collapse\r\n\t\t\t\t\"ctrl+left\": function (e) {\r\n\t\t\t\t\tgantt.close(this.taskId);\r\n\t\t\t\t},\r\n\t\t\t\t// expand\r\n\t\t\t\t\"ctrl+right\": function (e) {\r\n\t\t\t\t\tgantt.open(this.taskId);\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// delete task\r\n\t\t\t\t\"delete\": function (e) {\r\n\t\t\t\t\tgantt.$click.buttons[\"delete\"](this.taskId);\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// open lightbox\r\n\t\t\t\t\"enter\": function () {\r\n\t\t\t\t\tgantt.showLightbox(this.taskId);\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// add subtask\r\n\t\t\t\t\"ctrl+enter\": function () {\r\n\t\t\t\t\tgantt.createTask({}, this.taskId);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\tgantt.$keyboardNavigation.TaskRow.prototype.bindAll(gantt.$keyboardNavigation.TaskRow.prototype.keys);\r\n\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/elements/task_row.js\n// module id = 21\n// module chunks = 0","module.exports = function(gantt) {\r\n\r\n\tgantt.$keyboardNavigation.TaskCell = function (taskId, index) {\r\n\t\tif (!taskId) {\r\n\t\t\tvar rootLevel = gantt.getChildren(gantt.config.root_id);\r\n\t\t\tif (rootLevel[0]) {\r\n\t\t\t\ttaskId = rootLevel[0];\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.taskId = taskId;\r\n\t\tthis.columnIndex = index || 0;\r\n\t\tthis.index = gantt.getTaskIndex(this.taskId);\r\n\t};\r\n\r\n\tgantt.$keyboardNavigation.TaskCell.prototype = gantt._compose(\r\n\t\tgantt.$keyboardNavigation.TaskRow,\r\n\t\t{\r\n\t\t\t_handlers: null,\r\n\t\t\tisValid: function () {\r\n\r\n\t\t\t\treturn gantt.$keyboardNavigation.TaskRow.prototype.isValid.call(this) && !!gantt.getGridColumns()[this.columnIndex];\r\n\t\t\t},\r\n\t\t\tfallback: function () {\r\n\t\t\t\tvar node = gantt.$keyboardNavigation.TaskRow.prototype.fallback.call(this);\r\n\t\t\t\tif (node instanceof gantt.$keyboardNavigation.TaskRow) {\r\n\t\t\t\t\tvar visibleColumns = gantt.getGridColumns();\r\n\t\t\t\t\tvar index = this.columnIndex;\r\n\t\t\t\t\twhile (index >= 0) {\r\n\t\t\t\t\t\tif (visibleColumns[index])\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tindex--;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (visibleColumns[index]) {\r\n\t\t\t\t\t\treturn new gantt.$keyboardNavigation.TaskCell(node.taskId, index);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn node;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tgetNode: function () {\r\n\t\t\t\tif (gantt.isTaskExists(this.taskId) && gantt.isTaskVisible(this.taskId)) {\r\n\t\t\t\t\tif (gantt.config.show_grid) {\r\n\t\t\t\t\t\tvar row = gantt.$grid.querySelector(\".gantt_row[\" + gantt.config.task_attribute + \"='\" + this.taskId + \"']\");\r\n\t\t\t\t\t\treturn row.childNodes[this.columnIndex];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn gantt.getTaskNode(this.taskId);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tkeys: {\r\n\t\t\t\t\"up\": function () {\r\n\r\n\t\t\t\t\tvar nextElement = null;\r\n\t\t\t\t\tvar prevTask = gantt.getPrev(this.taskId);\r\n\t\t\t\t\tif (!prevTask) {\r\n\t\t\t\t\t\tnextElement = new gantt.$keyboardNavigation.HeaderCell(this.columnIndex);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnextElement = new gantt.$keyboardNavigation.TaskCell(prevTask, this.columnIndex);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.moveTo(nextElement);\r\n\t\t\t\t},\r\n\t\t\t\t\"down\": function () {\r\n\t\t\t\t\tvar nextTask = gantt.getNext(this.taskId);\r\n\t\t\t\t\tif (nextTask) {\r\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(nextTask, this.columnIndex));\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t\"left\": function () {\r\n\t\t\t\t\tif (this.columnIndex > 0) {\r\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(this.taskId, this.columnIndex - 1));\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t\"right\": function () {\r\n\t\t\t\t\tvar columns = gantt.getGridColumns();\r\n\t\t\t\t\tif (this.columnIndex < columns.length - 1) {\r\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(this.taskId, this.columnIndex + 1));\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\t\"end\": function () {\r\n\t\t\t\t\tvar columns = gantt.getGridColumns();\r\n\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(this.taskId, columns.length - 1));\r\n\t\t\t\t},\r\n\t\t\t\t\"home\": function () {\r\n\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(this.taskId, 0));\r\n\t\t\t\t},\r\n\t\t\t\t\"pagedown\": function () {\r\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\r\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(gantt.getTaskByIndex(gantt.getVisibleTaskCount() - 1), this.columnIndex));\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t\"pageup\": function () {\r\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\r\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(gantt.getTaskByIndex(0), this.columnIndex));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\r\n\r\n\tgantt.$keyboardNavigation.TaskCell.prototype.bindAll(gantt.$keyboardNavigation.TaskRow.prototype.keys);\r\n\tgantt.$keyboardNavigation.TaskCell.prototype.bindAll(gantt.$keyboardNavigation.TaskCell.prototype.keys);\r\n\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/elements/task_cell.js\n// module id = 22\n// module chunks = 0","module.exports = function(gantt) {\r\n\r\n\t(function () {\r\n\t\tvar modalsStack = [];\r\n\r\n\t\tfunction isModal() {\r\n\t\t\treturn !!modalsStack.length;\r\n\t\t}\r\n\r\n\t\tfunction afterPopup(box) {\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\tif (!isModal())\r\n\t\t\t\t\tgantt.focus();\r\n\t\t\t}, 1);\r\n\t\t}\r\n\r\n\t\tfunction startModal(box) {\r\n\t\t\tgantt.eventRemove(box, \"keydown\", trapFocus);\r\n\t\t\tgantt.event(box, \"keydown\", trapFocus);\r\n\t\t\tmodalsStack.push(box);\r\n\t\t\t//gantt.$keyboardNavigation.dispatcher.disable();\r\n\t\t}\r\n\r\n\t\tfunction endModal() {\r\n\t\t\tvar box = modalsStack.pop();\r\n\t\t\tif (box) {\r\n\t\t\t\tgantt.eventRemove(box, \"keydown\", trapFocus);\r\n\t\t\t}\r\n\t\t\tafterPopup(box);\r\n\r\n\t\t}\r\n\r\n\r\n\t\tfunction isTopModal(box) {\r\n\t\t\treturn box == modalsStack[modalsStack.length - 1];\r\n\t\t}\r\n\r\n\t\tfunction trapFocus(event) {\r\n\t\t\tvar event = event || window.event;\r\n\t\t\tvar target = event.currentTarget;\r\n\t\t\tif (!isTopModal(target)) return;\r\n\r\n\t\t\tgantt.$keyboardNavigation.trapFocus(target, event);\r\n\t\t}\r\n\r\n\t\tfunction traceLightbox() {\r\n\t\t\tstartModal(gantt.getLightbox());\r\n\t\t}\r\n\r\n\t\tgantt.attachEvent(\"onLightbox\", traceLightbox);\r\n\t\tgantt.attachEvent(\"onAfterLightbox\", endModal);\r\n\t\tgantt.attachEvent(\"onLightboxChange\", function () {\r\n\t\t\tendModal();\r\n\t\t\ttraceLightbox();\r\n\t\t});\r\n\r\n\r\n\t\tgantt.attachEvent(\"onAfterQuickInfo\", function () {\r\n\t\t\tafterPopup();\r\n\t\t});\r\n\r\n\t\tgantt.attachEvent(\"onMessagePopup\", function (box) {\r\n\t\t\tsaveFocus();\r\n\t\t\tstartModal(box);\r\n\t\t});\r\n\t\tgantt.attachEvent(\"onAfterMessagePopup\", function () {\r\n\t\t\tendModal();\r\n\t\t\trestoreFocus();\r\n\t\t});\r\n\r\n\t\tvar focusElement = null;\r\n\r\n\t\tfunction saveFocus() {\r\n\t\t\tfocusElement = document.activeElement;\r\n\t\t}\r\n\r\n\t\tfunction restoreFocus() {\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\tif (focusElement) {\r\n\t\t\t\t\tfocusElement.focus();\r\n\t\t\t\t\tfocusElement = null;\r\n\t\t\t\t}\r\n\t\t\t}, 1);\r\n\t\t}\r\n\r\n\t\tgantt.$keyboardNavigation.isModal = isModal;\r\n\r\n\r\n\t})();\r\n\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/modals.js\n// module id = 23\n// module chunks = 0","module.exports = function(gantt) {\r\n\r\n\tgantt.$keyboardNavigation.dispatcher = {\r\n\t\tisActive: false,\r\n\t\tactiveNode: null,\r\n\t\tglobalNode: new gantt.$keyboardNavigation.GanttNode(),\r\n\r\n\t\tenable: function () {\r\n\t\t\tthis.isActive = true;\r\n\t\t\tthis.globalNode.enable();\r\n\t\t\tthis.setActiveNode(this.getActiveNode());\r\n\t\t},\r\n\r\n\t\tdisable: function () {\r\n\t\t\tthis.isActive = false;\r\n\t\t\tthis.globalNode.disable();\r\n\t\t},\r\n\r\n\t\tisEnabled: function () {\r\n\t\t\treturn !!this.isActive;\r\n\t\t},\r\n\r\n\t\tgetDefaultNode: function () {\r\n\t\t\tvar node;\r\n\t\t\tif (gantt.config.keyboard_navigation_cells) {\r\n\t\t\t\tnode = new gantt.$keyboardNavigation.TaskCell();\r\n\t\t\t} else {\r\n\t\t\t\tnode = new gantt.$keyboardNavigation.TaskRow();\r\n\t\t\t}\r\n\r\n\t\t\tif (!node.isValid()) {\r\n\t\t\t\tnode = node.fallback();\r\n\t\t\t}\r\n\t\t\treturn node;\r\n\t\t},\r\n\r\n\t\tsetDefaultNode: function () {\r\n\t\t\tthis.setActiveNode(this.getDefaultNode());\r\n\t\t},\r\n\r\n\t\tgetActiveNode: function () {\r\n\t\t\tvar node = this.activeNode;\r\n\t\t\tif (node && !node.isValid()) {\r\n\t\t\t\tnode = node.fallback();\r\n\t\t\t}\r\n\t\t\treturn node;\r\n\t\t},\r\n\r\n\t\tfocusGlobalNode: function () {\r\n\t\t\tthis.blurNode(this.globalNode);\r\n\t\t\tthis.focusNode(this.globalNode);\r\n\t\t},\r\n\r\n\t\tsetActiveNode: function (el) {\r\n\t\t\tif (this.activeNode) {\r\n\t\t\t\tif (this.activeNode.compareTo(el)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this.isEnabled()) {\r\n\t\t\t\tthis.blurNode(this.activeNode);\r\n\t\t\t\tthis.activeNode = el;\r\n\t\t\t\tthis.focusNode(this.activeNode);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tfocusNode: function (el) {\r\n\t\t\tif (el && el.focus) {\r\n\t\t\t\tel.focus();\r\n\t\t\t}\r\n\t\t},\r\n\t\tblurNode: function (el) {\r\n\t\t\tif (el && el.blur) {\r\n\t\t\t\tel.blur();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tkeyDownHandler: function (e) {\r\n\r\n\t\t\tif (gantt.$keyboardNavigation.isModal())\r\n\t\t\t\treturn;\r\n\r\n\t\t\tif (!this.isEnabled())\r\n\t\t\t\treturn;\r\n\r\n\t\t\te = e || window.event;\r\n\r\n\t\t\tvar ganttNode = this.globalNode;\r\n\r\n\t\t\tvar command = gantt.$keyboardNavigation.shortcuts.getCommandFromEvent(e);\r\n\r\n\t\t\tvar activeElement = this.getActiveNode();\r\n\r\n\t\t\tif (!activeElement) {\r\n\t\t\t\tthis.setDefaultNode();\r\n\t\t\t} else if (activeElement.findHandler(command)) {\r\n\t\t\t\tactiveElement.doAction(command, e);\r\n\t\t\t} else if (ganttNode.findHandler(command)) {\r\n\t\t\t\tganttNode.doAction(command, e);\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\t_timeout: null,\r\n\t\tdelay: function(callback, delay){\r\n\r\n\t\t\tclearTimeout(this._timeout);\r\n\t\t\tthis._timeout = setTimeout(callback, delay || 1);\r\n\r\n\t\t}\r\n\t};\r\n\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/core.js\n// module id = 24\n// module chunks = 0"],"sourceRoot":""}