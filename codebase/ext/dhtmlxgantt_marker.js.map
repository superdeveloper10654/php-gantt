{"version":3,"sources":["webpack:///dhtmlxgantt_marker.js","webpack:///webpack/bootstrap 39c67343b4e330efcd62","webpack:///./sources/ext/marker.js"],"names":["Gantt","plugin","gantt","modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","25","26","_markers","createDatastore","initItem","marker","id","uid","config","show_markers","attachEvent","render_marker","start_date","state","getState","max_date","end_date","min_date","div","document","createElement","setAttribute","css","templates","marker_class","title","className","start","posFromDate","style","left","height","Math","max","getRowTop","getVisibleTaskCount","end","width","text","innerHTML","markerArea","$task_data","appendChild","$marker_area","$services","getService","createDataRender","defaultContainer","addLayer","getMarker","this","getItem","addMarker","addItem","deleteMarker","exists","removeItem","updateMarker","refresh","_getMarkers","getItems","renderMarkers"],"mappings":"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","file":"dhtmlxgantt_marker.js","sourcesContent":["/*!\n * @license\r\n * \r\n * dhtmlxGantt v.5.1.0 Professional\r\n * This software is covered by DHTMLX Enterprise License. Usage without proper license is prohibited.\r\n * \r\n * (c) Dinamenta, UAB.\r\n * \n */\nGantt.plugin(function(gantt){\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 25);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 25:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(26);\n\n\n/***/ }),\n\n/***/ 26:\n/***/ (function(module, exports) {\n\n\r\nif(!gantt._markers) {\r\n\tgantt._markers = gantt.createDatastore({\r\n\t\tname: \"marker\",\r\n\t\tinitItem: function (marker) {\r\n\t\t\tmarker.id = marker.id || gantt.uid();\r\n\t\t\treturn marker;\r\n\t\t}\r\n\t});\r\n}\r\n\r\ngantt.config.show_markers = true;\r\n\r\ngantt.attachEvent(\"onGanttReady\", function(){\r\n\tvar markerArea = document.createElement(\"div\");\r\n\tmarkerArea.className = \"gantt_marker_area\";\r\n\tgantt.$task_data.appendChild(markerArea);\r\n\tgantt.$marker_area = markerArea;\r\n\r\n\tvar layers = gantt.$services.getService(\"layers\");\r\n\tvar markerRenderer = layers.createDataRender({\r\n\t\tname: \"marker\",\r\n\t\tdefaultContainer: function(){ return gantt.$marker_area;}\r\n\t});\r\n\tmarkerRenderer.addLayer(render_marker);\r\n\r\n\tfunction render_marker(marker){\r\n\t\tif(!gantt.config.show_markers)\r\n\t\t\treturn false;\r\n\r\n\t\tif(!marker.start_date)\r\n\t\t\treturn false;\r\n\r\n\t\tvar state = gantt.getState();\r\n\t\tif(+marker.start_date > +state.max_date)\r\n\t\t\treturn;\r\n\t\tif(+marker.end_date && +marker.end_date < +state.min_date || +marker.start_date < +state.min_date)\r\n\t\t\treturn;\r\n\r\n\t\tvar div = document.createElement(\"div\");\r\n\r\n\t\tdiv.setAttribute(\"marker_id\", marker.id);\r\n\r\n\t\tvar css = \"gantt_marker\";\r\n\t\tif(gantt.templates.marker_class)\r\n\t\t\tcss += \" \" + gantt.templates.marker_class(marker);\r\n\r\n\t\tif(marker.css){\r\n\t\t\tcss += \" \" + marker.css;\r\n\t\t}\r\n\r\n\t\tif(marker.title){\r\n\t\t\tdiv.title = marker.title;\r\n\t\t}\r\n\t\tdiv.className = css;\r\n\r\n\t\tvar start = gantt.posFromDate(marker.start_date);\r\n\t\tdiv.style.left = start + \"px\";\r\n\t\tdiv.style.height = Math.max(gantt.getRowTop(gantt.getVisibleTaskCount()), 0) + \"px\";\r\n\t\tif(marker.end_date){\r\n\t\t\tvar end = gantt.posFromDate(marker.end_date);\r\n\t\t\tdiv.style.width = Math.max((end - start), 0) + \"px\";\r\n\r\n\t\t}\r\n\r\n\t\tif(marker.text){\r\n\t\t\tdiv.innerHTML = \"<div class='gantt_marker_content' >\" + marker.text + \"</div>\";\r\n\t\t}\r\n\r\n\t\treturn div;\r\n\t}\r\n});\r\n\r\n\r\ngantt.getMarker = function(id){\r\n\tif(!this._markers) return null;\r\n\r\n\treturn this._markers.getItem(id);\r\n};\r\n\r\ngantt.addMarker = function(marker){\r\n\treturn this._markers.addItem(marker);\r\n};\r\n\r\ngantt.deleteMarker = function(id){\r\n\tif(!this._markers.exists(id))\r\n\t\treturn false;\r\n\r\n\tthis._markers.removeItem(id);\r\n\treturn true;\r\n};\r\ngantt.updateMarker = function(id){\r\n\tthis._markers.refresh(id);\r\n};\r\n\r\ngantt._getMarkers = function(){\r\n\treturn this._markers.getItems();\r\n};\r\n\r\ngantt.renderMarkers = function () {\r\n\tthis._markers.refresh();\r\n};\r\n\n\n/***/ })\n\n/******/ });\n});\n\n\n// WEBPACK FOOTER //\n// dhtmlxgantt_marker.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 25);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 39c67343b4e330efcd62","\r\nif(!gantt._markers) {\r\n\tgantt._markers = gantt.createDatastore({\r\n\t\tname: \"marker\",\r\n\t\tinitItem: function (marker) {\r\n\t\t\tmarker.id = marker.id || gantt.uid();\r\n\t\t\treturn marker;\r\n\t\t}\r\n\t});\r\n}\r\n\r\ngantt.config.show_markers = true;\r\n\r\ngantt.attachEvent(\"onGanttReady\", function(){\r\n\tvar markerArea = document.createElement(\"div\");\r\n\tmarkerArea.className = \"gantt_marker_area\";\r\n\tgantt.$task_data.appendChild(markerArea);\r\n\tgantt.$marker_area = markerArea;\r\n\r\n\tvar layers = gantt.$services.getService(\"layers\");\r\n\tvar markerRenderer = layers.createDataRender({\r\n\t\tname: \"marker\",\r\n\t\tdefaultContainer: function(){ return gantt.$marker_area;}\r\n\t});\r\n\tmarkerRenderer.addLayer(render_marker);\r\n\r\n\tfunction render_marker(marker){\r\n\t\tif(!gantt.config.show_markers)\r\n\t\t\treturn false;\r\n\r\n\t\tif(!marker.start_date)\r\n\t\t\treturn false;\r\n\r\n\t\tvar state = gantt.getState();\r\n\t\tif(+marker.start_date > +state.max_date)\r\n\t\t\treturn;\r\n\t\tif(+marker.end_date && +marker.end_date < +state.min_date || +marker.start_date < +state.min_date)\r\n\t\t\treturn;\r\n\r\n\t\tvar div = document.createElement(\"div\");\r\n\r\n\t\tdiv.setAttribute(\"marker_id\", marker.id);\r\n\r\n\t\tvar css = \"gantt_marker\";\r\n\t\tif(gantt.templates.marker_class)\r\n\t\t\tcss += \" \" + gantt.templates.marker_class(marker);\r\n\r\n\t\tif(marker.css){\r\n\t\t\tcss += \" \" + marker.css;\r\n\t\t}\r\n\r\n\t\tif(marker.title){\r\n\t\t\tdiv.title = marker.title;\r\n\t\t}\r\n\t\tdiv.className = css;\r\n\r\n\t\tvar start = gantt.posFromDate(marker.start_date);\r\n\t\tdiv.style.left = start + \"px\";\r\n\t\tdiv.style.height = Math.max(gantt.getRowTop(gantt.getVisibleTaskCount()), 0) + \"px\";\r\n\t\tif(marker.end_date){\r\n\t\t\tvar end = gantt.posFromDate(marker.end_date);\r\n\t\t\tdiv.style.width = Math.max((end - start), 0) + \"px\";\r\n\r\n\t\t}\r\n\r\n\t\tif(marker.text){\r\n\t\t\tdiv.innerHTML = \"<div class='gantt_marker_content' >\" + marker.text + \"</div>\";\r\n\t\t}\r\n\r\n\t\treturn div;\r\n\t}\r\n});\r\n\r\n\r\ngantt.getMarker = function(id){\r\n\tif(!this._markers) return null;\r\n\r\n\treturn this._markers.getItem(id);\r\n};\r\n\r\ngantt.addMarker = function(marker){\r\n\treturn this._markers.addItem(marker);\r\n};\r\n\r\ngantt.deleteMarker = function(id){\r\n\tif(!this._markers.exists(id))\r\n\t\treturn false;\r\n\r\n\tthis._markers.removeItem(id);\r\n\treturn true;\r\n};\r\ngantt.updateMarker = function(id){\r\n\tthis._markers.refresh(id);\r\n};\r\n\r\ngantt._getMarkers = function(){\r\n\treturn this._markers.getItems();\r\n};\r\n\r\ngantt.renderMarkers = function () {\r\n\tthis._markers.refresh();\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/marker.js\n// module id = 26\n// module chunks = 8"],"sourceRoot":""}